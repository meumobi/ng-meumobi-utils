(function() {
	'use strict';

	angular
	.module('ngMeumobi.Utils.socialSharing', [])
	.factory('meuSocialSharing', ['$q', '$window', 'striptagsFilter', 'br2nlFilter', '$log', meuSocialSharing]);
  
  /*
    cordova plugin add https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin
  */
  
  function meuSocialSharing($q, $window, striptags, br2nl, $log) {
    
    var service = {};
    var options = {
      postfix: ''
    };
    
    service.shareItem = shareItem;
    service.shareMedia = shareMedia;
    service.setOption = setOption;
    service.setOptions = setOptions;
    service.share = share;
    service.shareViaWhatsAppToReceiver = shareViaWhatsAppToReceiver;
    
    return service;

    function setOptions(options) {
      angular.extend(options, options);
    }

    function setOption(name, value) {
      options.name = value;
    }

		function shareViaWhatsAppToReceiver(receiver) {
      var social = $window.plugins && $window.plugins.socialsharing;
		  
      social.shareViaWhatsAppToReceiver(receiver, 'Message via WhatsApp', null /* img */, null /* url */, function() {$log.debug('share ok');});
		}
    
    function shareItem(item) {
			
			var params = {
			  message: item.description,
        subject: item.title,
        files: [],
        url: item.hasOwnProperty('link') ? item.link : null
			};

      if (item.thumbnails.length > 0) {
				params.files.push(item.thumbnails[0].url);
			}

			return share(params);
		}

		function shareMedia(media) {

			var params = {
			  message: media.title,
        subject: media.title,
        files: [],
        url: media.url
			};
			
			// If media is saved locally (media.path) then share it
			// Else share its link (media.url)
			// Couldn't share together local pdf and link
			if (media.hasOwnProperty('path')) {
				params.files.push(media.path);
				params.url = null;
			} else if (media.thumbnails.length > 0) {
				params.files.push(media.thumbnails[0].url);
			}
			
			return share(params);
		}
		
		function share(params) {
    /*
      this is the complete list of currently supported params you can pass to the plugin (all optional)
      var options = {
        message: 'share this', // not supported on some apps (Facebook, Instagram)
        subject: 'the subject', // fi. for email
        files: ['', ''], // an array of filenames either locally or remotely
        url: 'https://www.website.com/foo/#bar?a=b',
        chooserTitle: 'Pick an app' // Android only, you can override the default share sheet title
      }
    */
      var d = $q.defer();			
      var social = $window.plugins && $window.plugins.socialsharing;
      
      // If params.description is null
    
			if (social) {
        if (options.postfix) {
  				params.subject += options.postfix;
        }
      
        params.message = params.message && striptags(br2nl(params.message));
        params.subject = params.subject && striptags(br2nl(params.subject));
        var cb_share = {
          success: function(result) {
            d.resolve(result);
          },
          fail: function(msg) {
            d.reject(msg);
          }  
        };
        
        $log.debug('shareWithOptions');
        $log.debug(params);
        social.shareWithOptions(params, cb_share.success, cb_share.fail); 
			} else {
			  d.reject('Plugin socialsharing missing');
			}
      
      return d.promise;
		}
  }
})();
(function() {
	'use strict';

	loadingInterceptor.$inject = ["$q", "$rootScope", "$log"];
	angular
	.module('ngMeumobi.Utils.loading', [])
	.factory('loadingInterceptor', loadingInterceptor);
	
	function loadingInterceptor($q, $rootScope, $log) {
		
		var numLoadings = 0;
		
		return {
			request: function(config) {
        if (!numLoadings++) {
          $rootScope.$broadcast('loading:start');
        }

				return config || $q.when(config);
			},
			response: function(response) {
				if (!(--numLoadings)) {
					$rootScope.$broadcast('loading:stop');
				}

				return response || $q.when(response);
			},
			requestError: function(request) {
				if (!(--numLoadings)) {
					$rootScope.$broadcast('loading:stop');
				}

				return $q.reject(request);
			},
			responseError: function(response) {
				if (!(--numLoadings)) {
					$rootScope.$broadcast('loading:stop');
				}
				
				return $q.reject(response);
			}
		};
	}
})();

(function () {
  'use strict';
  
	mediaClickLabel.$inject = ["MIMES"];
	mediaIconClass.$inject = ["MIMES"];
angular
	.module('ngMeumobi.Utils.files', ['slugifier'])
	.constant('MIMES', {
		'application/pdf': {
			class: 'fa-file-pdf-o',
			label: 'View',
			extension: 'pdf',
			download: true
		},
		'text/html': {
			class: 'fa-rss',
			label: 'Open',
			extension: 'html',
			download: false
		},
    'application/vnd.youtube.video+html': {
			class: 'fa-youtube-play',
			label: 'Play',
			extension: 'html',
			download: false
    },
		'application/vnd.ms-excel': {
			class: 'fa-file-excel-o',
			label: 'View',
			extension: 'xls',
			download: true
		},
		'audio/mpeg': {
			class: 'fa-file-audio-o',
			label: 'Play',
			extension: 'mp3',
			download: true
		},
		'application/vnd.ms-powerpoint': {
			class: 'fa-file-powerpoint-o',
			label: 'View',
			extension: 'ppt',
			download: true,
		},
		'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': {
			class: 'fa-file-excel-o',
			label: 'View',
			extension: 'xls',
			download: true
		}
	})
	.filter('mediaClickLabel', mediaClickLabel)
	.filter('mediaIconClass', mediaIconClass) 
  .provider('meuFiles', ['Slug', meuFiles]); 
        
  function meuFiles() {
    var fileTransfers = {};
    var files = {};
    var options = {
      localFolder: 'Downloads'
    };
    var statuses = {
      download: 'download',
      downloading: 'downloading',
      downloaded: 'downloaded'
    };
    
    this.setOptions = function(options) {
      angular.extend(options, options);
    };

    this.setOption = function(name, value) {
      options[name] = value;
    };

    this.$get = function($q, $log, $window, MIMES, Slug) {
      var api = {};
      var service = {};
      
      /**
       *  Api methods, available only on the inside the service
       */

      api.fileErrorHandler = function(e) {
      /*
        List of Errors cordova-plugin-file
        https://github.com/apache/cordova-plugin-file#list-of-error-codes-and-meanings
        For the meaning I recommend to read https://wicg.github.io/entries-api/#common-types
      */
        switch (e.code) {
          case FileError.NOT_FOUND_ERR:
            e.message = 'Requested file could not be found';
            break;
          case FileError.SECURITY_ERR:
            e.message = 'SECURITY_ERR';
            break;
          case FileError.ABORT_ERR:
            e.message = 'ABORT_ERR';
            break;
          case FileError.NOT_READABLE_ERR:
            e.message = 'NOT_READABLE_ERR';
            break;
          case FileError.ENCODING_ERR:
            e.message = 'Malformed URI';
            break;
          case FileError.NO_MODIFICATION_ALLOWED_ERR:
            e.message = 'NO_MODIFICATION_ALLOWED_ERR';
            break;
          case FileError.INVALID_STATE_ERR:
            e.message = 'INVALID_STATE_ERR';
            break;
          case FileError.SYNTAX_ERR:
            e.message = 'SYNTAX_ERR';
            break;
          case FileError.INVALID_MODIFICATION_ERR:
            e.message = 'INVALID_MODIFICATION_ERR';
            break;
          case FileError.QUOTA_EXCEEDED_ERR:
            e.message = 'QUOTA_EXCEEDED_ERR';
            break;
          case FileError.TYPE_MISMATCH_ERR:
            e.message = 'TYPE_MISMATCH_ERR';
            break;
          case FileError.PATH_EXISTS_ERR:
            e.message = 'PATH_EXISTS_ERR';
            break;
          default:
            e.message = 'Unknown Error';
            break;
        }
        $log.debug('Error: ' + e.message);
        
        return e;
      };
      
      api.fileTransferErrorHandler = function(e) {
      /*
        A FileTransferError object is passed to an error callback when an error occurs.
        https://github.com/apache/cordova-plugin-file-transfer#filetransfererror
      */
        switch (e.code) {
          case FileTransferError.FILE_NOT_FOUND_ERR:
            e.message = 'FILE_NOT_FOUND_ERR';
            break;
          case FileTransferError.INVALID_URL_ERR:
            e.message = 'INVALID_URL_ERR';
            break;
          case FileTransferError.CONNECTION_ERR:
            e.message = 'CONNECTION_ERR';
            break;
          case FileTransferError.ABORT_ERR:
            e.message = 'Operation aborted';
            break;
          case FileTransferError.NOT_MODIFIED_ERR:
            e.message = 'NOT_MODIFIED_ERR';
            break;
          default:
            e.message = 'Unknown Error';
            break;
        }
        $log.debug('Error: ' + e.message);
        
        return e;
      };

      api.getFilesFromLocalStorage = function() {
        /*
          Check if files is already loaded (if not is empty)
        TODO: is loading localStorage['files] for each media, should be optimized to only load once for all
        */
        if (!Object.keys(files).length  && localStorage['files']) { 
          var entries = angular.fromJson(localStorage['files']);
          files = api.checkRepositoryConsistency(entries);
        }
        return files;
      };
      
      api.getFileName = function(file) {
        var ext = file.extension || '';
        
        if (!ext && MIMES[file.type])
          ext += '.' + MIMES[file.type].extension;
        
        var name = file.title || '';
        
        if (!name) {
          name = md5(file.url);
        } else {
          name = Slug.slugify(name);
        }
                  
        return name + ext;
      };
      
      api.checkRepositoryConsistency = function(entries) {
        /*
          id must be equals to file.path
          and fullPath can be updated if App is updated (iOS)
        */
        var obj = {};
        Object.keys(entries).forEach(function(key,index) {
          obj[entries[key].path] = entries[key];
          obj[entries[key].path].fullPath = api.getFileFullPath(entries[key].path);
        });
        localStorage['files'] = angular.toJson(obj);

        return obj;
      };
      
      // Returns the full absolute path from the root to the FileEntry
      api.getFileFullPath = function (filePath) {
        var directory = null;
				if (device.platform == 'Android') {
					directory = cordova.file.externalDataDirectory;
				} else {
	        directory = cordova.file.dataDirectory;
				}
        return directory + filePath;
      };
      
      api.getFilePath = function (fileName) {
        return options.localFolder + '/' + fileName;
      };
      
      //add file to localstorage
      api.addFile = function(file) {
        files[file.path] = file;
        localStorage['files'] = angular.toJson(files);
      };
      
      //remove file from localstorage
      api.removeFile = function(id) {
  			delete files[id];
        localStorage['files'] = angular.toJson(files);
      };
      
      //get files handler
      api.getFileEntry = function (path) {
        var q = $q.defer();
        $window.resolveLocalFileSystemURL(
          path, 
          function(entry) {
            q.resolve(entry);
          },
          function(error) {
            $log.debug(error);
            error = api.fileErrorHandler(error);
            q.reject(error);
          }
        );
        return q.promise;
      };
      
      api.isDownloaded = function(filePath) {
        /*
          TODO: If status is downloaded but local file is missing then return FALSE
          Keep record on localstorage to appears as file already downloaded, user can re-download if needed
        */
        return !!api.getFilesFromLocalStorage()[filePath];
      };
      
      api.isDownloading = function(filePath) {
        return !!fileTransfers[filePath];     
      };
      
      api.getFileStatus = function(filePath) {
        if (api.isDownloaded(filePath)) {
          return statuses.downloaded;
        } else if (api.isDownloading(filePath)) {
          return statuses.downloading;
        } else {
          return statuses.download; 
        }
      };
    
      /**
       * Service methods, that are public and available for any resource
       */
      // File available statuses, best for debug and maitain than just string.
      
      service.download = download;
      service.decorateFile = decorateFile;
      service.remove = remove;
      service.list = api.getFilesFromLocalStorage;
      service.open = open;
      service.isDownloadable = isDownloadable;
      service.openFileOpener = openFileOpener;
      
      return service;
      
      /*
        Install: cordova plugin add cordova-plugin-file-opener2
        https://www.npmjs.com/package/cordova-plugin-file-opener2
      */
      
      function isDownloadable(file) {
        return (file.type in MIMES) ? MIMES[file.type].download : true;
      }
      
      function openFileOpener(uri, type) {
        var q = $q.defer();

        cordova.plugins.fileOpener2.open(uri, type, {
          error: function (e) {
            q.reject(e);
          }, success: function () {
            q.resolve();
          }
        });
        return q.promise;
      };
      
      function open(file) {
        var q = $q.defer();
        var cb_entry = {
          success: function(entry) {
            openFileOpener(entry.toURL(), file.type).then(
              function() {
                q.resolve();
              },
              function(e) {
                q.reject(e);
              }
            );
          },
          fail: function(e) {
            q.reject(e);
          }
        };
        
        file.fullPath = api.getFileFullPath(file.path);
        api.getFileEntry(file.fullPath)
          .then(function(entry) {
            cb_entry.success(entry);
          }, function(e) {
            cb_entry.fail(e);
          }
        );
        
        return q.promise;
      };
      
      function download(file) {
        var q = $q.defer();
        var ft = new FileTransfer();
        var uri = encodeURI(file.url);
        
        file.status = statuses.downloading;
        file.fullPath = api.getFileFullPath(file.path);
        fileTransfers[file.path] = ft;

        ft.onprogress = function (progress) {
          q.notify(progress);
        };

        q.promise.abort = function () {
          ft.abort();
        };

        var cb_download = {
          success: function(fileEntry) {
            file.status = statuses.downloaded;
						api.addFile(file);
						delete fileTransfers[file.path];
            q.resolve(file);
          },
          fail: function(error) {
            $log.debug(error);
            file.status = statuses.download;
            error = api.fileTransferErrorHandler(error);
						delete fileTransfers[file.path];
						q.reject(error);
          }
        };
        ft.download(uri, file.fullPath, cb_download.success, cb_download.fail, false);
        
        return q.promise;
      };
      
      function remove(file) {
        var q = $q.defer();

        file.fullPath = api.getFileFullPath(file.path);
        api.getFileEntry(file.fullPath)
          .then(function(entry) {
            entry.remove(
              function (status) {
                api.removeFile(file.path);
                file.status = statuses.download;
                q.resolve(file);
              },function (error) {
                q.reject(error);
              }
            );
          }, function(error) {
            file.status = statuses.download;
            q.reject(error);
          }
        );
        
        return q.promise;
      }
      
      function decorateFile(file) {
        file.name = file.name || api.getFileName(file);
        file.path = file.path || api.getFilePath(file.name);
        file.status = api.getFileStatus(file.path);
        /*
          If device not exists then app run on browser
        */
				if (angular.isUndefined(device))
          file.fullPath = api.getFileFullPath(file.path);

        return file;
      };
    };
  };
  
	function mediaClickLabel(MIMES) {
		return function(type) {
			return MIMES[type] ? MIMES[type].label : 'Open';
		};
	}
	
	function mediaIconClass(MIMES) {
		return function(type) {
			return MIMES[type] ? MIMES[type].class : 'fa-external-link';
		};
	}
})();
(function() {
	'use strict';

  meuDialogs.$inject = ["$q", "$window"];
	angular
	.module('ngMeumobi.Utils.dialogs', [])
	.factory('meuDialogs', meuDialogs);
  
  /*
    install   :     cordova plugin add cordova-plugin-dialogs nl.x-services.plugins.toast
    link      :     https://github.com/apache/cordova-plugin-dialogs
    link      :     https://github.com/EddyVerbruggen/Toast-PhoneGap-Plugin  
  */
  
  function meuDialogs($q, $window) {
    
    var service = {};
    
    service.alert = alert;
    service.confirm = confirm;
    service.toast = toast;
    
    return service;
    
    function alert (message, title, buttonName) {
      var q = $q.defer();

      if (!$window.navigator.notification) {
        $window.alert(message);
        q.resolve();
      } else {
        navigator.notification.alert(message, function () {
          q.resolve();
        }, title, buttonName);
      }

      return q.promise;
    };
    
    function confirm (message, title, buttonLabels) {
      var q = $q.defer();

      if (!$window.navigator.notification) {
        if ($window.confirm(message)) {
          q.resolve(1);
        } else {
          q.resolve(2);
        }
      } else {
        navigator.notification.confirm(message, function (buttonIndex) {
          q.resolve(buttonIndex);
        }, title, buttonLabels);
      }

      return q.promise;
    };
    
    function toast (message) {
      var q = $q.defer();
			var toast = $window.plugins && $window.plugins.toast;
      
			if (toast) {
        toast.showLongBottom(message, function (response) {
          q.resolve(response);
        }, function (error) {
          q.reject(error);
        });
      } else {
        alert(message);
      }
      
      return q.promise;
    };
  }
})();
(function() {
	'use strict';

	angular
	.module('ngMeumobi.Utils.calendar', [])
	.factory('meuCalendar', ['$q', '$window', 'striptagsFilter', 'br2nlFilter', meuCalendar]);
  
  /*
    cordova plugin add https://github.com/EddyVerbruggen/Calendar-PhoneGap-Plugin.git
    If start and end_date equal 00:00 then the event occurs all day long
  */
  
  function meuCalendar($q, $window, striptags, br2nl) {
    
    var service = {};
    
    service.createEventInteractively = createEventInteractively;
    
    return service;
    
    function createEventInteractively(options) {
      var d = $q.defer(),
        defaultOptions = {
          title: null,
          address: null,
          description: '',
          start_date: null,
          end_date: null
        };

      defaultOptions = angular.extend(defaultOptions, options);

      $window.plugins.calendar.createEventInteractively(
        striptags(defaultOptions.title),
        striptags(defaultOptions.address),
        striptags(br2nl(defaultOptions.description)),
        new Date(defaultOptions.start_date  * 1000),
        new Date(defaultOptions.end_date  * 1000),
        function (message) {
          d.resolve(message);
        }, function (error) {
          d.reject(error);
        }
      );

      return d.promise;
    }
  }
})();
(function() {
	'use strict';
  
	googleAnalyticsCordova.$inject = ["$cordovaGoogleAnalytics", "$log"];
	googleAnalytics.$inject = ["$log", "$q"];
  $cordovaGoogleAnalytics.$inject = ["$q", "$window", "$log"];
	meuAnalytics.$inject = ["$injector", "$window"];
	angular
	.module('ngMeumobi.Utils.analytics', [])
	.factory('googleAnalyticsCordova', googleAnalyticsCordova)
	.factory('googleAnalytics', googleAnalytics)
  .factory('$cordovaGoogleAnalytics', $cordovaGoogleAnalytics)
	.factory('meuAnalytics', meuAnalytics);
  
  /*
    Inspired by ngCordova
    We've extracted only required methods 
  
    install   :     cordova plugin add https://github.com/danwilson/google-analytics-plugin.git
  */

  function $cordovaGoogleAnalytics($q, $window, $log) {
    
    var service = {};
    
    service.startTrackerWithId = startTrackerWithId;
    service.debugMode = debugMode;
    service.trackView = trackView;
    service.trackEvent = trackEvent;
    service.setUserId = setUserId;
    
    return service;

    function setUserId(id) {
      var d = $q.defer();

      $log.debug('Set User Id: ' + id);
      
      $window.analytics.setUserId(id, function (response) {
        d.resolve(response);
      }, function (error) {
        d.reject(error);
      });

      return d.promise;
    }

    function startTrackerWithId(id) {
      var d = $q.defer();

      $log.debug('Start tracking GA Id: ' + id);

      $window.analytics.startTrackerWithId(id, function (response) {
        d.resolve(response);
      }, function (error) {
        d.reject(error);
      });

      return d.promise;
    }

    function debugMode() {
      var d = $q.defer();

      $window.analytics.debugMode(function (response) {
        d.resolve(response);
      }, function () {
        d.reject();
      });

      return d.promise;
    }

    function trackView(screenName) {
      var d = $q.defer();
      
      $log.debug('Track View: ' + screenName);
      
      $window.analytics.trackView(screenName, function (response) {
        d.resolve(response);
      }, function (error) {
        d.reject(error);
      });

      return d.promise;
    }

    function trackEvent(category, action, label, value) {
      var d = $q.defer();

      var ev = [category, action, label, value];
      $log.debug('Track Event: ' + ev.toString());
      
      $window.analytics.trackEvent(category, action, label, value, function (response) {
        d.resolve(response);
      }, function (error) {
        d.reject(error);
      });

      return d.promise;
    }
  }
		
	function googleAnalyticsCordova($cordovaGoogleAnalytics, $log) {
    
    var service = {};
    
    service.init = init;
    service.debugMode = $cordovaGoogleAnalytics.debugMode;
    service.trackView = $cordovaGoogleAnalytics.trackView;
    service.trackEvent = $cordovaGoogleAnalytics.trackEvent;
    service.startTrackerWithId = $cordovaGoogleAnalytics.startTrackerWithId;
    service.setUserId = $cordovaGoogleAnalytics.setUserId;
    
    return service;
    
    function init(trackId) {
      $cordovaGoogleAnalytics.startTrackerWithId(trackId);
    }
	}
  
	function googleAnalytics($log, $q) {
    
    var service = {};
    
    service.init = init;
    service.debugMode = debugMode;
    service.trackView = trackView;
    service.trackEvent = trackEvent;
    service.startTrackerWithId  = startTrackerWithId;
    service.setUserId = setUserId;
    
    return service;
    
    function init(trackId) {
      $log.debug('Google Analytics track Id: ' + trackId);
    }
    
    function debugMode() {
      $log.debug('Enable Debug');
    }
    
    function trackView(title) {
      $log.debug('Tracking Page: ' + title);
    }
    
    function trackEvent(category, action, label, value) {
      $log.debug('Tracking Event: ' + action);
    }
    
    function startTrackerWithId(id) {
      var msg = 'Tracking GA Id: ' + id;
      var d = $q.defer();

      d.resolve(msg);

      return d.promise;
    }
    
    function setUserId(id) {
      $log.debug('Tracking User: ' + id);
    }
	}
  
	function meuAnalytics($injector, $window) {

		if ($window.cordova) {
			return $injector.get('googleAnalyticsCordova');
		} else {
		  return $injector.get('googleAnalytics');
		}
	}
})();
/* global angular */
/* eslint no-undef: "error" */
(function () {
  'use strict';

  angular.module('ngMeumobi.Utils.filters', [])
  .filter('isEmpty', isEmpty)
  .filter('br2nl', br2nl)
  .filter('striptags', striptags);

  function isEmpty() {
    return function (obj) {
      return !Object.keys(obj).length;
    };
  }

  function br2nl() {
    return function (text) {
      return text.replace(/<br\s*[\/]?>/gi, '\n');
    };
  }

  function striptags() {
    return function (text) {
      return angular
          .element('<div/>')
          .html(text)
          .text();
    };
  }
})();

/* global angular */
/* eslint no-undef: "error" */
/*
  TODO: should release minified (.min.js) and not (.js)
*/
(function () {
  'use strict';

  angular.module('ngMeumobi.Utils', [
    //'ngMeumobi.Utils.files',
    //'ngMeumobi.Utils.api',
    'ngMeumobi.Utils.loading',
    //'ngMeumobi.Utils.connection',
    'ngMeumobi.Utils.calendar',
    'ngMeumobi.Utils.analytics',
    'ngMeumobi.Utils.socialSharing',
    'ngMeumobi.Utils.dialogs',
    'ngMeumobi.Utils.files'
    //'ngMeumobi.Utils.filters'
  ]);
  
})();

/**
 * angular-slugify -- provides slugification for AngularJS
 *
 * Copyright © 2013 Paul Smith <paulsmith@pobox.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

(function() {
    "use strict";

    var mod = angular.module("slugifier", []);

    // Unicode (non-control) characters in the Latin-1 Supplement and Latin
    // Extended-A blocks, transliterated into ASCII characters.
    var charmap = {
        ' ': " ",
        '¡': "!",
        '¢': "c",
        '£': "lb",
        '¥': "yen",
        '¦': "|",
        '§': "SS",
        '¨': "\"",
        '©': "(c)",
        'ª': "a",
        '«': "<<",
        '¬': "not",
        '­': "-",
        '®': "(R)",
        '°': "^0",
        '±': "+/-",
        '²': "^2",
        '³': "^3",
        '´': "'",
        'µ': "u",
        '¶': "P",
        '·': ".",
        '¸': ",",
        '¹': "^1",
        'º': "o",
        '»': ">>",
        '¼': " 1/4 ",
        '½': " 1/2 ",
        '¾': " 3/4 ",
        '¿': "?",
        'À': "`A",
        'Á': "'A",
        'Â': "^A",
        'Ã': "~A",
        'Ä': '"A',
        'Å': "A",
        'Æ': "AE",
        'Ç': "C",
        'È': "`E",
        'É': "'E",
        'Ê': "^E",
        'Ë': '"E',
        'Ì': "`I",
        'Í': "'I",
        'Î': "^I",
        'Ï': '"I',
        'Ð': "D",
        'Ñ': "~N",
        'Ò': "`O",
        'Ó': "'O",
        'Ô': "^O",
        'Õ': "~O",
        'Ö': '"O',
        '×': "x",
        'Ø': "O",
        'Ù': "`U",
        'Ú': "'U",
        'Û': "^U",
        'Ü': '"U',
        'Ý': "'Y",
        'Þ': "Th",
        'ß': "ss",
        'à': "`a",
        'á': "'a",
        'â': "^a",
        'ã': "~a",
        'ä': '"a',
        'å': "a",
        'æ': "ae",
        'ç': "c",
        'è': "`e",
        'é': "'e",
        'ê': "^e",
        'ë': '"e',
        'ì': "`i",
        'í': "'i",
        'î': "^i",
        'ï': '"i',
        'ð': "d",
        'ñ': "~n",
        'ò': "`o",
        'ó': "'o",
        'ô': "^o",
        'õ': "~o",
        'ö': '"o',
        '÷': ":",
        'ø': "o",
        'ù': "`u",
        'ú': "'u",
        'û': "^u",
        'ü': '"u',
        'ý': "'y",
        'þ': "th",
        'ÿ': '"y',
        'Ā': "A",
        'ā': "a",
        'Ă': "A",
        'ă': "a",
        'Ą': "A",
        'ą': "a",
        'Ć': "'C",
        'ć': "'c",
        'Ĉ': "^C",
        'ĉ': "^c",
        'Ċ': "C",
        'ċ': "c",
        'Č': "C",
        'č': "c",
        'Ď': "D",
        'ď': "d",
        'Đ': "D",
        'đ': "d",
        'Ē': "E",
        'ē': "e",
        'Ĕ': "E",
        'ĕ': "e",
        'Ė': "E",
        'ė': "e",
        'Ę': "E",
        'ę': "e",
        'Ě': "E",
        'ě': "e",
        'Ĝ': "^G",
        'ĝ': "^g",
        'Ğ': "G",
        'ğ': "g",
        'Ġ': "G",
        'ġ': "g",
        'Ģ': "G",
        'ģ': "g",
        'Ĥ': "^H",
        'ĥ': "^h",
        'Ħ': "H",
        'ħ': "h",
        'Ĩ': "~I",
        'ĩ': "~i",
        'Ī': "I",
        'ī': "i",
        'Ĭ': "I",
        'ĭ': "i",
        'Į': "I",
        'į': "i",
        'İ': "I",
        'ı': "i",
        'Ĳ': "IJ",
        'ĳ': "ij",
        'Ĵ': "^J",
        'ĵ': "^j",
        'Ķ': "K",
        'ķ': "k",
        'Ĺ': "L",
        'ĺ': "l",
        'Ļ': "L",
        'ļ': "l",
        'Ľ': "L",
        'ľ': "l",
        'Ŀ': "L",
        'ŀ': "l",
        'Ł': "L",
        'ł': "l",
        'Ń': "'N",
        'ń': "'n",
        'Ņ': "N",
        'ņ': "n",
        'Ň': "N",
        'ň': "n",
        'ŉ': "'n",
        'Ō': "O",
        'ō': "o",
        'Ŏ': "O",
        'ŏ': "o",
        'Ő': '"O',
        'ő': '"o',
        'Œ': "OE",
        'œ': "oe",
        'Ŕ': "'R",
        'ŕ': "'r",
        'Ŗ': "R",
        'ŗ': "r",
        'Ř': "R",
        'ř': "r",
        'Ś': "'S",
        'ś': "'s",
        'Ŝ': "^S",
        'ŝ': "^s",
        'Ş': "S",
        'ş': "s",
        'Š': "S",
        'š': "s",
        'Ţ': "T",
        'ţ': "t",
        'Ť': "T",
        'ť': "t",
        'Ŧ': "T",
        'ŧ': "t",
        'Ũ': "~U",
        'ũ': "~u",
        'Ū': "U",
        'ū': "u",
        'Ŭ': "U",
        'ŭ': "u",
        'Ů': "U",
        'ů': "u",
        'Ű': '"U',
        'ű': '"u',
        'Ų': "U",
        'ų': "u",
        'Ŵ': "^W",
        'ŵ': "^w",
        'Ŷ': "^Y",
        'ŷ': "^y",
        'Ÿ': '"Y',
        'Ź': "'Z",
        'ź': "'z",
        'Ż': "Z",
        'ż': "z",
        'Ž': "Z",
        'ž': "z",
        'ſ': "s"
    };

    function _slugify(s) {
        if (!s) return "";
        var ascii = [];
        var ch, cp;
        for (var i = 0; i < s.length; i++) {
            if ((cp = s.charCodeAt(i)) < 0x180) {
                ch = String.fromCharCode(cp);
                ascii.push(charmap[ch] || ch);
            }
        }
        s = ascii.join("");
        s = s.replace(/[^\w\s-]/g, "").trim().toLowerCase();
        return s.replace(/[-\s]+/g, "-");
    }

    mod.factory("Slug", function() {
        return {
            slugify: _slugify
        };
    });

    mod.directive("slug", ["Slug", function(Slug) {
        return {
            restrict: "E",
            scope: {
                to: "=",
            },
            transclude: true,
            replace: true,
            template: "<div ng-transclude></div>",
            link: function(scope, elem, attrs) {
                if (!attrs.from) {
                    throw "must set attribute 'from'";
                }
                scope.$parent.$watch(attrs.from, function(val) {
                    scope.to = Slug.slugify(val);
                });
            }
        };
    }]);

    mod.filter("slugify", ["Slug", function(Slug) {
        return function(input) {
            return Slug.slugify(input);
        };
    }]);
})();

!function(n){"use strict";function t(n,t){var r=(65535&n)+(65535&t),e=(n>>16)+(t>>16)+(r>>16);return e<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,o,u,c,f){return t(r(t(t(e,n),t(u,f)),c),o)}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,r){n[r>>5]|=128<<r%32,n[(r+64>>>9<<4)+14]=r;var e,i,a,h,d,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e<n.length;e+=16)i=l,a=g,h=v,d=m,l=o(l,g,v,m,n[e],7,-680876936),m=o(m,l,g,v,n[e+1],12,-389564586),v=o(v,m,l,g,n[e+2],17,606105819),g=o(g,v,m,l,n[e+3],22,-1044525330),l=o(l,g,v,m,n[e+4],7,-176418897),m=o(m,l,g,v,n[e+5],12,1200080426),v=o(v,m,l,g,n[e+6],17,-1473231341),g=o(g,v,m,l,n[e+7],22,-45705983),l=o(l,g,v,m,n[e+8],7,1770035416),m=o(m,l,g,v,n[e+9],12,-1958414417),v=o(v,m,l,g,n[e+10],17,-42063),g=o(g,v,m,l,n[e+11],22,-1990404162),l=o(l,g,v,m,n[e+12],7,1804603682),m=o(m,l,g,v,n[e+13],12,-40341101),v=o(v,m,l,g,n[e+14],17,-1502002290),g=o(g,v,m,l,n[e+15],22,1236535329),l=u(l,g,v,m,n[e+1],5,-165796510),m=u(m,l,g,v,n[e+6],9,-1069501632),v=u(v,m,l,g,n[e+11],14,643717713),g=u(g,v,m,l,n[e],20,-373897302),l=u(l,g,v,m,n[e+5],5,-701558691),m=u(m,l,g,v,n[e+10],9,38016083),v=u(v,m,l,g,n[e+15],14,-660478335),g=u(g,v,m,l,n[e+4],20,-405537848),l=u(l,g,v,m,n[e+9],5,568446438),m=u(m,l,g,v,n[e+14],9,-1019803690),v=u(v,m,l,g,n[e+3],14,-187363961),g=u(g,v,m,l,n[e+8],20,1163531501),l=u(l,g,v,m,n[e+13],5,-1444681467),m=u(m,l,g,v,n[e+2],9,-51403784),v=u(v,m,l,g,n[e+7],14,1735328473),g=u(g,v,m,l,n[e+12],20,-1926607734),l=c(l,g,v,m,n[e+5],4,-378558),m=c(m,l,g,v,n[e+8],11,-2022574463),v=c(v,m,l,g,n[e+11],16,1839030562),g=c(g,v,m,l,n[e+14],23,-35309556),l=c(l,g,v,m,n[e+1],4,-1530992060),m=c(m,l,g,v,n[e+4],11,1272893353),v=c(v,m,l,g,n[e+7],16,-155497632),g=c(g,v,m,l,n[e+10],23,-1094730640),l=c(l,g,v,m,n[e+13],4,681279174),m=c(m,l,g,v,n[e],11,-358537222),v=c(v,m,l,g,n[e+3],16,-722521979),g=c(g,v,m,l,n[e+6],23,76029189),l=c(l,g,v,m,n[e+9],4,-640364487),m=c(m,l,g,v,n[e+12],11,-421815835),v=c(v,m,l,g,n[e+15],16,530742520),g=c(g,v,m,l,n[e+2],23,-995338651),l=f(l,g,v,m,n[e],6,-198630844),m=f(m,l,g,v,n[e+7],10,1126891415),v=f(v,m,l,g,n[e+14],15,-1416354905),g=f(g,v,m,l,n[e+5],21,-57434055),l=f(l,g,v,m,n[e+12],6,1700485571),m=f(m,l,g,v,n[e+3],10,-1894986606),v=f(v,m,l,g,n[e+10],15,-1051523),g=f(g,v,m,l,n[e+1],21,-2054922799),l=f(l,g,v,m,n[e+8],6,1873313359),m=f(m,l,g,v,n[e+15],10,-30611744),v=f(v,m,l,g,n[e+6],15,-1560198380),g=f(g,v,m,l,n[e+13],21,1309151649),l=f(l,g,v,m,n[e+4],6,-145523070),m=f(m,l,g,v,n[e+11],10,-1120210379),v=f(v,m,l,g,n[e+2],15,718787259),g=f(g,v,m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,h),m=t(m,d);return[l,g,v,m]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function d(n){return a(i(h(n),8*n.length))}function l(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}function g(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}function v(n){return unescape(encodeURIComponent(n))}function m(n){return d(v(n))}function p(n){return g(m(n))}function s(n,t){return l(v(n),v(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?m(n):p(n)}"function"==typeof define&&define.amd?define(function(){return A}):"object"==typeof module&&module.exports?module.exports=A:n.md5=A}(this);
//# sourceMappingURL=md5.min.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNvY2lhbFNoYXJpbmcuanMiLCJMb2FkaW5nLmpzIiwiRmlsZXMuanMiLCJEaWFsb2dzLmpzIiwiQ2FsZW5kYXIuanMiLCJBbmFseXRpY3MuanMiLCJtZXUtZmlsdGVycy5qcyIsIm1vZHVsZS5qcyIsImFuZ3VsYXItc2x1Z2lmeS5qcyIsIm1kNS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQSxXQUFBO0NBQ0E7O0NBRUE7RUFDQSxPQUFBLGlDQUFBO0VBQ0EsUUFBQSxvQkFBQSxDQUFBLE1BQUEsV0FBQSxtQkFBQSxlQUFBLFFBQUE7Ozs7OztFQU1BLFNBQUEsaUJBQUEsSUFBQSxTQUFBLFdBQUEsT0FBQSxNQUFBOztJQUVBLElBQUEsVUFBQTtJQUNBLElBQUEsVUFBQTtNQUNBLFNBQUE7OztJQUdBLFFBQUEsWUFBQTtJQUNBLFFBQUEsYUFBQTtJQUNBLFFBQUEsWUFBQTtJQUNBLFFBQUEsYUFBQTtJQUNBLFFBQUEsUUFBQTtJQUNBLFFBQUEsNkJBQUE7O0lBRUEsT0FBQTs7SUFFQSxTQUFBLFdBQUEsU0FBQTtNQUNBLFFBQUEsT0FBQSxTQUFBOzs7SUFHQSxTQUFBLFVBQUEsTUFBQSxPQUFBO01BQ0EsUUFBQSxPQUFBOzs7RUFHQSxTQUFBLDJCQUFBLFVBQUE7TUFDQSxJQUFBLFNBQUEsUUFBQSxXQUFBLFFBQUEsUUFBQTs7TUFFQSxPQUFBLDJCQUFBLFVBQUEsd0JBQUEsZ0JBQUEsZ0JBQUEsV0FBQSxDQUFBLEtBQUEsTUFBQTs7O0lBR0EsU0FBQSxVQUFBLE1BQUE7O0dBRUEsSUFBQSxTQUFBO0tBQ0EsU0FBQSxLQUFBO1FBQ0EsU0FBQSxLQUFBO1FBQ0EsT0FBQTtRQUNBLEtBQUEsS0FBQSxlQUFBLFVBQUEsS0FBQSxPQUFBOzs7TUFHQSxJQUFBLEtBQUEsV0FBQSxTQUFBLEdBQUE7SUFDQSxPQUFBLE1BQUEsS0FBQSxLQUFBLFdBQUEsR0FBQTs7O0dBR0EsT0FBQSxNQUFBOzs7RUFHQSxTQUFBLFdBQUEsT0FBQTs7R0FFQSxJQUFBLFNBQUE7S0FDQSxTQUFBLE1BQUE7UUFDQSxTQUFBLE1BQUE7UUFDQSxPQUFBO1FBQ0EsS0FBQSxNQUFBOzs7Ozs7R0FNQSxJQUFBLE1BQUEsZUFBQSxTQUFBO0lBQ0EsT0FBQSxNQUFBLEtBQUEsTUFBQTtJQUNBLE9BQUEsTUFBQTtVQUNBLElBQUEsTUFBQSxXQUFBLFNBQUEsR0FBQTtJQUNBLE9BQUEsTUFBQSxLQUFBLE1BQUEsV0FBQSxHQUFBOzs7R0FHQSxPQUFBLE1BQUE7OztFQUdBLFNBQUEsTUFBQSxRQUFBOzs7Ozs7Ozs7OztNQVdBLElBQUEsSUFBQSxHQUFBO01BQ0EsSUFBQSxTQUFBLFFBQUEsV0FBQSxRQUFBLFFBQUE7Ozs7R0FJQSxJQUFBLFFBQUE7UUFDQSxJQUFBLFFBQUEsU0FBQTtNQUNBLE9BQUEsV0FBQSxRQUFBOzs7UUFHQSxPQUFBLFVBQUEsT0FBQSxXQUFBLFVBQUEsTUFBQSxPQUFBO1FBQ0EsT0FBQSxVQUFBLE9BQUEsV0FBQSxVQUFBLE1BQUEsT0FBQTtRQUNBLElBQUEsV0FBQTtVQUNBLFNBQUEsU0FBQSxRQUFBO1lBQ0EsRUFBQSxRQUFBOztVQUVBLE1BQUEsU0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBOzs7O1FBSUEsS0FBQSxNQUFBO1FBQ0EsS0FBQSxNQUFBO1FBQ0EsT0FBQSxpQkFBQSxRQUFBLFNBQUEsU0FBQSxTQUFBO1VBQ0E7S0FDQSxFQUFBLE9BQUE7OztNQUdBLE9BQUEsRUFBQTs7OztBQ3RIQSxDQUFBLFdBQUE7Q0FDQTs7O0NBRUE7RUFDQSxPQUFBLDJCQUFBO0VBQ0EsUUFBQSxzQkFBQTs7Q0FFQSxTQUFBLG1CQUFBLElBQUEsWUFBQSxNQUFBOztFQUVBLElBQUEsY0FBQTs7RUFFQSxPQUFBO0dBQ0EsU0FBQSxTQUFBLFFBQUE7UUFDQSxJQUFBLENBQUEsZUFBQTtVQUNBLFdBQUEsV0FBQTs7O0lBR0EsT0FBQSxVQUFBLEdBQUEsS0FBQTs7R0FFQSxVQUFBLFNBQUEsVUFBQTtJQUNBLElBQUEsRUFBQSxFQUFBLGNBQUE7S0FDQSxXQUFBLFdBQUE7OztJQUdBLE9BQUEsWUFBQSxHQUFBLEtBQUE7O0dBRUEsY0FBQSxTQUFBLFNBQUE7SUFDQSxJQUFBLEVBQUEsRUFBQSxjQUFBO0tBQ0EsV0FBQSxXQUFBOzs7SUFHQSxPQUFBLEdBQUEsT0FBQTs7R0FFQSxlQUFBLFNBQUEsVUFBQTtJQUNBLElBQUEsRUFBQSxFQUFBLGNBQUE7S0FDQSxXQUFBLFdBQUE7OztJQUdBLE9BQUEsR0FBQSxPQUFBOzs7Ozs7QUN0Q0EsQ0FBQSxZQUFBO0VBQ0E7Ozs7QUFFQTtFQUNBLE9BQUEseUJBQUEsQ0FBQTtFQUNBLFNBQUEsU0FBQTtFQUNBLG1CQUFBO0dBQ0EsT0FBQTtHQUNBLE9BQUE7R0FDQSxXQUFBO0dBQ0EsVUFBQTs7RUFFQSxhQUFBO0dBQ0EsT0FBQTtHQUNBLE9BQUE7R0FDQSxXQUFBO0dBQ0EsVUFBQTs7SUFFQSxzQ0FBQTtHQUNBLE9BQUE7R0FDQSxPQUFBO0dBQ0EsV0FBQTtHQUNBLFVBQUE7O0VBRUEsNEJBQUE7R0FDQSxPQUFBO0dBQ0EsT0FBQTtHQUNBLFdBQUE7R0FDQSxVQUFBOztFQUVBLGNBQUE7R0FDQSxPQUFBO0dBQ0EsT0FBQTtHQUNBLFdBQUE7R0FDQSxVQUFBOztFQUVBLGlDQUFBO0dBQ0EsT0FBQTtHQUNBLE9BQUE7R0FDQSxXQUFBO0dBQ0EsVUFBQTs7RUFFQSxxRUFBQTtHQUNBLE9BQUE7R0FDQSxPQUFBO0dBQ0EsV0FBQTtHQUNBLFVBQUE7OztFQUdBLE9BQUEsbUJBQUE7RUFDQSxPQUFBLGtCQUFBO0dBQ0EsU0FBQSxZQUFBLENBQUEsUUFBQTs7RUFFQSxTQUFBLFdBQUE7SUFDQSxJQUFBLGdCQUFBO0lBQ0EsSUFBQSxRQUFBO0lBQ0EsSUFBQSxVQUFBO01BQ0EsYUFBQTs7SUFFQSxJQUFBLFdBQUE7TUFDQSxVQUFBO01BQ0EsYUFBQTtNQUNBLFlBQUE7OztJQUdBLEtBQUEsYUFBQSxTQUFBLFNBQUE7TUFDQSxRQUFBLE9BQUEsU0FBQTs7O0lBR0EsS0FBQSxZQUFBLFNBQUEsTUFBQSxPQUFBO01BQ0EsUUFBQSxRQUFBOzs7SUFHQSxLQUFBLE9BQUEsU0FBQSxJQUFBLE1BQUEsU0FBQSxPQUFBLE1BQUE7TUFDQSxJQUFBLE1BQUE7TUFDQSxJQUFBLFVBQUE7Ozs7OztNQU1BLElBQUEsbUJBQUEsU0FBQSxHQUFBOzs7Ozs7UUFNQSxRQUFBLEVBQUE7VUFDQSxLQUFBLFVBQUE7WUFDQSxFQUFBLFVBQUE7WUFDQTtVQUNBLEtBQUEsVUFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxVQUFBO1lBQ0EsRUFBQSxVQUFBO1lBQ0E7VUFDQSxLQUFBLFVBQUE7WUFDQSxFQUFBLFVBQUE7WUFDQTtVQUNBLEtBQUEsVUFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxVQUFBO1lBQ0EsRUFBQSxVQUFBO1lBQ0E7VUFDQSxLQUFBLFVBQUE7WUFDQSxFQUFBLFVBQUE7WUFDQTtVQUNBLEtBQUEsVUFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxVQUFBO1lBQ0EsRUFBQSxVQUFBO1lBQ0E7VUFDQSxLQUFBLFVBQUE7WUFDQSxFQUFBLFVBQUE7WUFDQTtVQUNBLEtBQUEsVUFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxVQUFBO1lBQ0EsRUFBQSxVQUFBO1lBQ0E7VUFDQTtZQUNBLEVBQUEsVUFBQTtZQUNBOztRQUVBLEtBQUEsTUFBQSxZQUFBLEVBQUE7O1FBRUEsT0FBQTs7O01BR0EsSUFBQSwyQkFBQSxTQUFBLEdBQUE7Ozs7O1FBS0EsUUFBQSxFQUFBO1VBQ0EsS0FBQSxrQkFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxrQkFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxrQkFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxrQkFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0EsS0FBQSxrQkFBQTtZQUNBLEVBQUEsVUFBQTtZQUNBO1VBQ0E7WUFDQSxFQUFBLFVBQUE7WUFDQTs7UUFFQSxLQUFBLE1BQUEsWUFBQSxFQUFBOztRQUVBLE9BQUE7OztNQUdBLElBQUEsMkJBQUEsV0FBQTs7Ozs7UUFLQSxJQUFBLENBQUEsT0FBQSxLQUFBLE9BQUEsV0FBQSxhQUFBLFVBQUE7VUFDQSxJQUFBLFVBQUEsUUFBQSxTQUFBLGFBQUE7VUFDQSxRQUFBLElBQUEsMkJBQUE7O1FBRUEsT0FBQTs7O01BR0EsSUFBQSxjQUFBLFNBQUEsTUFBQTtRQUNBLElBQUEsTUFBQSxLQUFBLGFBQUE7O1FBRUEsSUFBQSxDQUFBLE9BQUEsTUFBQSxLQUFBO1VBQ0EsT0FBQSxNQUFBLE1BQUEsS0FBQSxNQUFBOztRQUVBLElBQUEsT0FBQSxLQUFBLFNBQUE7O1FBRUEsSUFBQSxDQUFBLE1BQUE7VUFDQSxPQUFBLElBQUEsS0FBQTtlQUNBO1VBQ0EsT0FBQSxLQUFBLFFBQUE7OztRQUdBLE9BQUEsT0FBQTs7O01BR0EsSUFBQSw2QkFBQSxTQUFBLFNBQUE7Ozs7O1FBS0EsSUFBQSxNQUFBO1FBQ0EsT0FBQSxLQUFBLFNBQUEsUUFBQSxTQUFBLElBQUEsT0FBQTtVQUNBLElBQUEsUUFBQSxLQUFBLFFBQUEsUUFBQTtVQUNBLElBQUEsUUFBQSxLQUFBLE1BQUEsV0FBQSxJQUFBLGdCQUFBLFFBQUEsS0FBQTs7UUFFQSxhQUFBLFdBQUEsUUFBQSxPQUFBOztRQUVBLE9BQUE7Ozs7TUFJQSxJQUFBLGtCQUFBLFVBQUEsVUFBQTtRQUNBLElBQUEsWUFBQTtJQUNBLElBQUEsT0FBQSxZQUFBLFdBQUE7S0FDQSxZQUFBLFFBQUEsS0FBQTtXQUNBO1NBQ0EsWUFBQSxRQUFBLEtBQUE7O1FBRUEsT0FBQSxZQUFBOzs7TUFHQSxJQUFBLGNBQUEsVUFBQSxVQUFBO1FBQ0EsT0FBQSxRQUFBLGNBQUEsTUFBQTs7OztNQUlBLElBQUEsVUFBQSxTQUFBLE1BQUE7UUFDQSxNQUFBLEtBQUEsUUFBQTtRQUNBLGFBQUEsV0FBQSxRQUFBLE9BQUE7Ozs7TUFJQSxJQUFBLGFBQUEsU0FBQSxJQUFBO0tBQ0EsT0FBQSxNQUFBO1FBQ0EsYUFBQSxXQUFBLFFBQUEsT0FBQTs7OztNQUlBLElBQUEsZUFBQSxVQUFBLE1BQUE7UUFDQSxJQUFBLElBQUEsR0FBQTtRQUNBLFFBQUE7VUFDQTtVQUNBLFNBQUEsT0FBQTtZQUNBLEVBQUEsUUFBQTs7VUFFQSxTQUFBLE9BQUE7WUFDQSxLQUFBLE1BQUE7WUFDQSxRQUFBLElBQUEsaUJBQUE7WUFDQSxFQUFBLE9BQUE7OztRQUdBLE9BQUEsRUFBQTs7O01BR0EsSUFBQSxlQUFBLFNBQUEsVUFBQTs7Ozs7UUFLQSxPQUFBLENBQUEsQ0FBQSxJQUFBLDJCQUFBOzs7TUFHQSxJQUFBLGdCQUFBLFNBQUEsVUFBQTtRQUNBLE9BQUEsQ0FBQSxDQUFBLGNBQUE7OztNQUdBLElBQUEsZ0JBQUEsU0FBQSxVQUFBO1FBQ0EsSUFBQSxJQUFBLGFBQUEsV0FBQTtVQUNBLE9BQUEsU0FBQTtlQUNBLElBQUEsSUFBQSxjQUFBLFdBQUE7VUFDQSxPQUFBLFNBQUE7ZUFDQTtVQUNBLE9BQUEsU0FBQTs7Ozs7Ozs7O01BU0EsUUFBQSxXQUFBO01BQ0EsUUFBQSxlQUFBO01BQ0EsUUFBQSxTQUFBO01BQ0EsUUFBQSxPQUFBLElBQUE7TUFDQSxRQUFBLE9BQUE7TUFDQSxRQUFBLGlCQUFBO01BQ0EsUUFBQSxpQkFBQTs7TUFFQSxPQUFBOzs7Ozs7O01BT0EsU0FBQSxlQUFBLE1BQUE7UUFDQSxPQUFBLENBQUEsS0FBQSxRQUFBLFNBQUEsTUFBQSxLQUFBLE1BQUEsV0FBQTs7O01BR0EsU0FBQSxlQUFBLEtBQUEsTUFBQTtRQUNBLElBQUEsSUFBQSxHQUFBOztRQUVBLFFBQUEsUUFBQSxZQUFBLEtBQUEsS0FBQSxNQUFBO1VBQ0EsT0FBQSxVQUFBLEdBQUE7WUFDQSxFQUFBLE9BQUE7YUFDQSxTQUFBLFlBQUE7WUFDQSxFQUFBOzs7UUFHQSxPQUFBLEVBQUE7T0FDQTs7TUFFQSxTQUFBLEtBQUEsTUFBQTtRQUNBLElBQUEsSUFBQSxHQUFBO1FBQ0EsSUFBQSxXQUFBO1VBQ0EsU0FBQSxTQUFBLE9BQUE7WUFDQSxlQUFBLE1BQUEsU0FBQSxLQUFBLE1BQUE7Y0FDQSxXQUFBO2dCQUNBLEVBQUE7O2NBRUEsU0FBQSxHQUFBO2dCQUNBLEVBQUEsT0FBQTs7OztVQUlBLE1BQUEsU0FBQSxHQUFBO1lBQ0EsRUFBQSxPQUFBOzs7O1FBSUEsS0FBQSxXQUFBLElBQUEsZ0JBQUEsS0FBQTtRQUNBLElBQUEsYUFBQSxLQUFBO1dBQ0EsS0FBQSxTQUFBLE9BQUE7WUFDQSxTQUFBLFFBQUE7YUFDQSxTQUFBLEdBQUE7WUFDQSxTQUFBLEtBQUE7Ozs7UUFJQSxPQUFBLEVBQUE7T0FDQTs7TUFFQSxTQUFBLFNBQUEsTUFBQTtRQUNBLElBQUEsSUFBQSxHQUFBO1FBQ0EsSUFBQSxLQUFBLElBQUE7UUFDQSxJQUFBLE1BQUEsVUFBQSxLQUFBOztRQUVBLEtBQUEsU0FBQSxTQUFBO1FBQ0EsS0FBQSxXQUFBLElBQUEsZ0JBQUEsS0FBQTtRQUNBLGNBQUEsS0FBQSxRQUFBOztRQUVBLEdBQUEsYUFBQSxVQUFBLFVBQUE7VUFDQSxFQUFBLE9BQUE7OztRQUdBLEVBQUEsUUFBQSxRQUFBLFlBQUE7VUFDQSxHQUFBOzs7UUFHQSxJQUFBLGNBQUE7VUFDQSxTQUFBLFNBQUEsV0FBQTtZQUNBLEtBQUEsU0FBQSxTQUFBO01BQ0EsSUFBQSxRQUFBO01BQ0EsT0FBQSxjQUFBLEtBQUE7WUFDQSxFQUFBLFFBQUE7O1VBRUEsTUFBQSxTQUFBLE9BQUE7WUFDQSxLQUFBLE1BQUE7WUFDQSxLQUFBLFNBQUEsU0FBQTtZQUNBLFFBQUEsSUFBQSx5QkFBQTtNQUNBLE9BQUEsY0FBQSxLQUFBO01BQ0EsRUFBQSxPQUFBOzs7UUFHQSxHQUFBLFNBQUEsS0FBQSxLQUFBLFVBQUEsWUFBQSxTQUFBLFlBQUEsTUFBQTs7UUFFQSxPQUFBLEVBQUE7T0FDQTs7TUFFQSxTQUFBLE9BQUEsTUFBQTtRQUNBLElBQUEsSUFBQSxHQUFBOztRQUVBLEtBQUEsV0FBQSxJQUFBLGdCQUFBLEtBQUE7UUFDQSxJQUFBLGFBQUEsS0FBQTtXQUNBLEtBQUEsU0FBQSxPQUFBO1lBQ0EsTUFBQTtjQUNBLFVBQUEsUUFBQTtnQkFDQSxJQUFBLFdBQUEsS0FBQTtnQkFDQSxLQUFBLFNBQUEsU0FBQTtnQkFDQSxFQUFBLFFBQUE7Z0JBQ0EsVUFBQSxPQUFBO2dCQUNBLEVBQUEsT0FBQTs7O2FBR0EsU0FBQSxPQUFBO1lBQ0EsS0FBQSxTQUFBLFNBQUE7WUFDQSxFQUFBLE9BQUE7Ozs7UUFJQSxPQUFBLEVBQUE7OztNQUdBLFNBQUEsYUFBQSxNQUFBO1FBQ0EsS0FBQSxPQUFBLEtBQUEsUUFBQSxJQUFBLFlBQUE7UUFDQSxLQUFBLE9BQUEsS0FBQSxRQUFBLElBQUEsWUFBQSxLQUFBO1FBQ0EsS0FBQSxTQUFBLElBQUEsY0FBQSxLQUFBOzs7O0lBSUEsSUFBQSxRQUFBLFlBQUE7VUFDQSxLQUFBLFdBQUEsSUFBQSxnQkFBQSxLQUFBOztRQUVBLE9BQUE7T0FDQTs7R0FFQTs7Q0FFQSxTQUFBLGdCQUFBLE9BQUE7RUFDQSxPQUFBLFNBQUEsTUFBQTtHQUNBLE9BQUEsTUFBQSxRQUFBLE1BQUEsTUFBQSxRQUFBOzs7O0NBSUEsU0FBQSxlQUFBLE9BQUE7RUFDQSxPQUFBLFNBQUEsTUFBQTtHQUNBLE9BQUEsTUFBQSxRQUFBLE1BQUEsTUFBQSxRQUFBOzs7O0FDeGFBLENBQUEsV0FBQTtDQUNBOzs7Q0FFQTtFQUNBLE9BQUEsMkJBQUE7RUFDQSxRQUFBLGNBQUE7Ozs7Ozs7O0VBUUEsU0FBQSxXQUFBLElBQUEsU0FBQTs7SUFFQSxJQUFBLFVBQUE7O0lBRUEsUUFBQSxRQUFBO0lBQ0EsUUFBQSxVQUFBO0lBQ0EsUUFBQSxRQUFBOztJQUVBLE9BQUE7O0lBRUEsU0FBQSxPQUFBLFNBQUEsT0FBQSxZQUFBO01BQ0EsSUFBQSxJQUFBLEdBQUE7O01BRUEsSUFBQSxDQUFBLFFBQUEsVUFBQSxjQUFBO1FBQ0EsUUFBQSxNQUFBO1FBQ0EsRUFBQTthQUNBO1FBQ0EsVUFBQSxhQUFBLE1BQUEsU0FBQSxZQUFBO1VBQ0EsRUFBQTtXQUNBLE9BQUE7OztNQUdBLE9BQUEsRUFBQTtLQUNBOztJQUVBLFNBQUEsU0FBQSxTQUFBLE9BQUEsY0FBQTtNQUNBLElBQUEsSUFBQSxHQUFBOztNQUVBLElBQUEsQ0FBQSxRQUFBLFVBQUEsY0FBQTtRQUNBLElBQUEsUUFBQSxRQUFBLFVBQUE7VUFDQSxFQUFBLFFBQUE7ZUFDQTtVQUNBLEVBQUEsUUFBQTs7YUFFQTtRQUNBLFVBQUEsYUFBQSxRQUFBLFNBQUEsVUFBQSxhQUFBO1VBQ0EsRUFBQSxRQUFBO1dBQ0EsT0FBQTs7O01BR0EsT0FBQSxFQUFBO0tBQ0E7O0lBRUEsU0FBQSxPQUFBLFNBQUE7TUFDQSxJQUFBLElBQUEsR0FBQTtHQUNBLElBQUEsUUFBQSxRQUFBLFdBQUEsUUFBQSxRQUFBOztHQUVBLElBQUEsT0FBQTtRQUNBLE1BQUEsZUFBQSxTQUFBLFVBQUEsVUFBQTtVQUNBLEVBQUEsUUFBQTtXQUNBLFVBQUEsT0FBQTtVQUNBLEVBQUEsT0FBQTs7YUFFQTtRQUNBLE1BQUE7OztNQUdBLE9BQUEsRUFBQTtLQUNBOzs7QUN2RUEsQ0FBQSxXQUFBO0NBQ0E7O0NBRUE7RUFDQSxPQUFBLDRCQUFBO0VBQ0EsUUFBQSxlQUFBLENBQUEsTUFBQSxXQUFBLG1CQUFBLGVBQUE7Ozs7Ozs7RUFPQSxTQUFBLFlBQUEsSUFBQSxTQUFBLFdBQUEsT0FBQTs7SUFFQSxJQUFBLFVBQUE7O0lBRUEsUUFBQSwyQkFBQTs7SUFFQSxPQUFBOztJQUVBLFNBQUEseUJBQUEsU0FBQTtNQUNBLElBQUEsSUFBQSxHQUFBO1FBQ0EsaUJBQUE7VUFDQSxPQUFBO1VBQ0EsU0FBQTtVQUNBLGFBQUE7VUFDQSxZQUFBO1VBQ0EsVUFBQTs7O01BR0EsaUJBQUEsUUFBQSxPQUFBLGdCQUFBOztNQUVBLFFBQUEsUUFBQSxTQUFBO1FBQ0EsVUFBQSxlQUFBO1FBQ0EsVUFBQSxlQUFBO1FBQ0EsVUFBQSxNQUFBLGVBQUE7UUFDQSxJQUFBLEtBQUEsZUFBQSxjQUFBO1FBQ0EsSUFBQSxLQUFBLGVBQUEsWUFBQTtRQUNBLFVBQUEsU0FBQTtVQUNBLEVBQUEsUUFBQTtXQUNBLFVBQUEsT0FBQTtVQUNBLEVBQUEsT0FBQTs7OztNQUlBLE9BQUEsRUFBQTs7OztBQzdDQSxDQUFBLFdBQUE7Q0FDQTs7Ozs7O0NBRUE7RUFDQSxPQUFBLDZCQUFBO0VBQ0EsUUFBQSwwQkFBQTtFQUNBLFFBQUEsbUJBQUE7R0FDQSxRQUFBLDJCQUFBO0VBQ0EsUUFBQSxnQkFBQTs7Ozs7Ozs7O0VBU0EsU0FBQSx3QkFBQSxJQUFBLFNBQUEsTUFBQTs7SUFFQSxJQUFBLFVBQUE7O0lBRUEsUUFBQSxxQkFBQTtJQUNBLFFBQUEsWUFBQTtJQUNBLFFBQUEsWUFBQTtJQUNBLFFBQUEsYUFBQTtJQUNBLFFBQUEsWUFBQTs7SUFFQSxPQUFBOztJQUVBLFNBQUEsVUFBQSxJQUFBO01BQ0EsSUFBQSxJQUFBLEdBQUE7O01BRUEsS0FBQSxNQUFBLGtCQUFBOztNQUVBLFFBQUEsVUFBQSxVQUFBLElBQUEsVUFBQSxVQUFBO1FBQ0EsRUFBQSxRQUFBO1NBQ0EsVUFBQSxPQUFBO1FBQ0EsRUFBQSxPQUFBOzs7TUFHQSxPQUFBLEVBQUE7OztJQUdBLFNBQUEsbUJBQUEsSUFBQTtNQUNBLElBQUEsSUFBQSxHQUFBOztNQUVBLEtBQUEsTUFBQSwyQkFBQTs7TUFFQSxRQUFBLFVBQUEsbUJBQUEsSUFBQSxVQUFBLFVBQUE7UUFDQSxFQUFBLFFBQUE7U0FDQSxVQUFBLE9BQUE7UUFDQSxFQUFBLE9BQUE7OztNQUdBLE9BQUEsRUFBQTs7O0lBR0EsU0FBQSxZQUFBO01BQ0EsSUFBQSxJQUFBLEdBQUE7O01BRUEsUUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBO1FBQ0EsRUFBQSxRQUFBO1NBQ0EsWUFBQTtRQUNBLEVBQUE7OztNQUdBLE9BQUEsRUFBQTs7O0lBR0EsU0FBQSxVQUFBLFlBQUE7TUFDQSxJQUFBLElBQUEsR0FBQTs7TUFFQSxLQUFBLE1BQUEsaUJBQUE7O01BRUEsUUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFBLFVBQUE7UUFDQSxFQUFBLFFBQUE7U0FDQSxVQUFBLE9BQUE7UUFDQSxFQUFBLE9BQUE7OztNQUdBLE9BQUEsRUFBQTs7O0lBR0EsU0FBQSxXQUFBLFVBQUEsUUFBQSxPQUFBLE9BQUE7TUFDQSxJQUFBLElBQUEsR0FBQTs7TUFFQSxJQUFBLEtBQUEsQ0FBQSxVQUFBLFFBQUEsT0FBQTtNQUNBLEtBQUEsTUFBQSxrQkFBQSxHQUFBOztNQUVBLFFBQUEsVUFBQSxXQUFBLFVBQUEsUUFBQSxPQUFBLE9BQUEsVUFBQSxVQUFBO1FBQ0EsRUFBQSxRQUFBO1NBQ0EsVUFBQSxPQUFBO1FBQ0EsRUFBQSxPQUFBOzs7TUFHQSxPQUFBLEVBQUE7Ozs7Q0FJQSxTQUFBLHVCQUFBLHlCQUFBLE1BQUE7O0lBRUEsSUFBQSxVQUFBOztJQUVBLFFBQUEsT0FBQTtJQUNBLFFBQUEsWUFBQSx3QkFBQTtJQUNBLFFBQUEsWUFBQSx3QkFBQTtJQUNBLFFBQUEsYUFBQSx3QkFBQTtJQUNBLFFBQUEscUJBQUEsd0JBQUE7SUFDQSxRQUFBLFlBQUEsd0JBQUE7O0lBRUEsT0FBQTs7SUFFQSxTQUFBLEtBQUEsU0FBQTtNQUNBLHdCQUFBLG1CQUFBOzs7O0NBSUEsU0FBQSxnQkFBQSxNQUFBLElBQUE7O0lBRUEsSUFBQSxVQUFBOztJQUVBLFFBQUEsT0FBQTtJQUNBLFFBQUEsWUFBQTtJQUNBLFFBQUEsWUFBQTtJQUNBLFFBQUEsYUFBQTtJQUNBLFFBQUEsc0JBQUE7SUFDQSxRQUFBLFlBQUE7O0lBRUEsT0FBQTs7SUFFQSxTQUFBLEtBQUEsU0FBQTtNQUNBLEtBQUEsTUFBQSxnQ0FBQTs7O0lBR0EsU0FBQSxZQUFBO01BQ0EsS0FBQSxNQUFBOzs7SUFHQSxTQUFBLFVBQUEsT0FBQTtNQUNBLEtBQUEsTUFBQSxvQkFBQTs7O0lBR0EsU0FBQSxXQUFBLFVBQUEsUUFBQSxPQUFBLE9BQUE7TUFDQSxLQUFBLE1BQUEscUJBQUE7OztJQUdBLFNBQUEsbUJBQUEsSUFBQTtNQUNBLElBQUEsTUFBQSxxQkFBQTtNQUNBLElBQUEsSUFBQSxHQUFBOztNQUVBLEVBQUEsUUFBQTs7TUFFQSxPQUFBLEVBQUE7OztJQUdBLFNBQUEsVUFBQSxJQUFBO01BQ0EsS0FBQSxNQUFBLG9CQUFBOzs7O0NBSUEsU0FBQSxhQUFBLFdBQUEsU0FBQTs7RUFFQSxJQUFBLFFBQUEsU0FBQTtHQUNBLE9BQUEsVUFBQSxJQUFBO1NBQ0E7SUFDQSxPQUFBLFVBQUEsSUFBQTs7Ozs7O0FDbktBLENBQUEsWUFBQTtFQUNBOztFQUVBLFFBQUEsT0FBQSwyQkFBQTtHQUNBLE9BQUEsV0FBQTtHQUNBLE9BQUEsU0FBQTtHQUNBLE9BQUEsYUFBQTs7RUFFQSxTQUFBLFVBQUE7SUFDQSxPQUFBLFVBQUEsS0FBQTtNQUNBLE9BQUEsQ0FBQSxPQUFBLEtBQUEsS0FBQTs7OztFQUlBLFNBQUEsUUFBQTtJQUNBLE9BQUEsVUFBQSxNQUFBO01BQ0EsT0FBQSxLQUFBLFFBQUEsa0JBQUE7Ozs7RUFJQSxTQUFBLFlBQUE7SUFDQSxPQUFBLFVBQUEsTUFBQTtNQUNBLE9BQUE7V0FDQSxRQUFBO1dBQ0EsS0FBQTtXQUNBOzs7Ozs7Ozs7O0FDdEJBLENBQUEsWUFBQTtFQUNBOztFQUVBLFFBQUEsT0FBQSxtQkFBQTs7O0lBR0E7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDT0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUEsSUFBQSxNQUFBLFFBQUEsT0FBQSxhQUFBOzs7O0lBSUEsSUFBQSxVQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBO1FBQ0EsS0FBQTtRQUNBLEtBQUE7UUFDQSxLQUFBOzs7SUFHQSxTQUFBLFNBQUEsR0FBQTtRQUNBLElBQUEsQ0FBQSxHQUFBLE9BQUE7UUFDQSxJQUFBLFFBQUE7UUFDQSxJQUFBLElBQUE7UUFDQSxLQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxRQUFBLEtBQUE7WUFDQSxJQUFBLENBQUEsS0FBQSxFQUFBLFdBQUEsTUFBQSxPQUFBO2dCQUNBLEtBQUEsT0FBQSxhQUFBO2dCQUNBLE1BQUEsS0FBQSxRQUFBLE9BQUE7OztRQUdBLElBQUEsTUFBQSxLQUFBO1FBQ0EsSUFBQSxFQUFBLFFBQUEsYUFBQSxJQUFBLE9BQUE7UUFDQSxPQUFBLEVBQUEsUUFBQSxXQUFBOzs7SUFHQSxJQUFBLFFBQUEsUUFBQSxXQUFBO1FBQ0EsT0FBQTtZQUNBLFNBQUE7Ozs7SUFJQSxJQUFBLFVBQUEsUUFBQSxDQUFBLFFBQUEsU0FBQSxNQUFBO1FBQ0EsT0FBQTtZQUNBLFVBQUE7WUFDQSxPQUFBO2dCQUNBLElBQUE7O1lBRUEsWUFBQTtZQUNBLFNBQUE7WUFDQSxVQUFBO1lBQ0EsTUFBQSxTQUFBLE9BQUEsTUFBQSxPQUFBO2dCQUNBLElBQUEsQ0FBQSxNQUFBLE1BQUE7b0JBQ0EsTUFBQTs7Z0JBRUEsTUFBQSxRQUFBLE9BQUEsTUFBQSxNQUFBLFNBQUEsS0FBQTtvQkFDQSxNQUFBLEtBQUEsS0FBQSxRQUFBOzs7Ozs7SUFNQSxJQUFBLE9BQUEsV0FBQSxDQUFBLFFBQUEsU0FBQSxNQUFBO1FBQ0EsT0FBQSxTQUFBLE9BQUE7WUFDQSxPQUFBLEtBQUEsUUFBQTs7Ozs7QUN4U0EsQ0FBQSxTQUFBLEVBQUEsQ0FBQSxhQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxJQUFBLEVBQUEsQ0FBQSxNQUFBLElBQUEsTUFBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsSUFBQSxPQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxDQUFBLFVBQUEsRUFBQSxDQUFBLFdBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsQ0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxDQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxDQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsQ0FBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxDQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxhQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxDQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxDQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLENBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLG1CQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsU0FBQSxtQkFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLENBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFlBQUEsT0FBQSxRQUFBLE9BQUEsSUFBQSxPQUFBLFVBQUEsQ0FBQSxPQUFBLElBQUEsVUFBQSxPQUFBLFFBQUEsT0FBQSxRQUFBLE9BQUEsUUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBO21DQUNBIiwiZmlsZSI6Im5nLW1ldW1vYmktdXRpbHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHQubW9kdWxlKCduZ01ldW1vYmkuVXRpbHMuc29jaWFsU2hhcmluZycsIFtdKVxuXHQuZmFjdG9yeSgnbWV1U29jaWFsU2hhcmluZycsIFsnJHEnLCAnJHdpbmRvdycsICdzdHJpcHRhZ3NGaWx0ZXInLCAnYnIybmxGaWx0ZXInLCAnJGxvZycsIG1ldVNvY2lhbFNoYXJpbmddKTtcbiAgXG4gIC8qXG4gICAgY29yZG92YSBwbHVnaW4gYWRkIGh0dHBzOi8vZ2l0aHViLmNvbS9FZGR5VmVyYnJ1Z2dlbi9Tb2NpYWxTaGFyaW5nLVBob25lR2FwLVBsdWdpblxuICAqL1xuICBcbiAgZnVuY3Rpb24gbWV1U29jaWFsU2hhcmluZygkcSwgJHdpbmRvdywgc3RyaXB0YWdzLCBicjJubCwgJGxvZykge1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBwb3N0Zml4OiAnJ1xuICAgIH07XG4gICAgXG4gICAgc2VydmljZS5zaGFyZUl0ZW0gPSBzaGFyZUl0ZW07XG4gICAgc2VydmljZS5zaGFyZU1lZGlhID0gc2hhcmVNZWRpYTtcbiAgICBzZXJ2aWNlLnNldE9wdGlvbiA9IHNldE9wdGlvbjtcbiAgICBzZXJ2aWNlLnNldE9wdGlvbnMgPSBzZXRPcHRpb25zO1xuICAgIHNlcnZpY2Uuc2hhcmUgPSBzaGFyZTtcbiAgICBzZXJ2aWNlLnNoYXJlVmlhV2hhdHNBcHBUb1JlY2VpdmVyID0gc2hhcmVWaWFXaGF0c0FwcFRvUmVjZWl2ZXI7XG4gICAgXG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9wdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gdmFsdWU7XG4gICAgfVxuXG5cdFx0ZnVuY3Rpb24gc2hhcmVWaWFXaGF0c0FwcFRvUmVjZWl2ZXIocmVjZWl2ZXIpIHtcbiAgICAgIHZhciBzb2NpYWwgPSAkd2luZG93LnBsdWdpbnMgJiYgJHdpbmRvdy5wbHVnaW5zLnNvY2lhbHNoYXJpbmc7XG5cdFx0ICBcbiAgICAgIHNvY2lhbC5zaGFyZVZpYVdoYXRzQXBwVG9SZWNlaXZlcihyZWNlaXZlciwgJ01lc3NhZ2UgdmlhIFdoYXRzQXBwJywgbnVsbCAvKiBpbWcgKi8sIG51bGwgLyogdXJsICovLCBmdW5jdGlvbigpIHskbG9nLmRlYnVnKCdzaGFyZSBvaycpO30pO1xuXHRcdH1cbiAgICBcbiAgICBmdW5jdGlvbiBzaGFyZUl0ZW0oaXRlbSkge1xuXHRcdFx0XG5cdFx0XHR2YXIgcGFyYW1zID0ge1xuXHRcdFx0ICBtZXNzYWdlOiBpdGVtLmRlc2NyaXB0aW9uLFxuICAgICAgICBzdWJqZWN0OiBpdGVtLnRpdGxlLFxuICAgICAgICBmaWxlczogW10sXG4gICAgICAgIHVybDogaXRlbS5oYXNPd25Qcm9wZXJ0eSgnbGluaycpID8gaXRlbS5saW5rIDogbnVsbFxuXHRcdFx0fTtcblxuICAgICAgaWYgKGl0ZW0udGh1bWJuYWlscy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHBhcmFtcy5maWxlcy5wdXNoKGl0ZW0udGh1bWJuYWlsc1swXS51cmwpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2hhcmUocGFyYW1zKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaGFyZU1lZGlhKG1lZGlhKSB7XG5cblx0XHRcdHZhciBwYXJhbXMgPSB7XG5cdFx0XHQgIG1lc3NhZ2U6IG1lZGlhLnRpdGxlLFxuICAgICAgICBzdWJqZWN0OiBtZWRpYS50aXRsZSxcbiAgICAgICAgZmlsZXM6IFtdLFxuICAgICAgICB1cmw6IG1lZGlhLnVybFxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0Ly8gSWYgbWVkaWEgaXMgc2F2ZWQgbG9jYWxseSAobWVkaWEucGF0aCkgdGhlbiBzaGFyZSBpdFxuXHRcdFx0Ly8gRWxzZSBzaGFyZSBpdHMgbGluayAobWVkaWEudXJsKVxuXHRcdFx0Ly8gQ291bGRuJ3Qgc2hhcmUgdG9nZXRoZXIgbG9jYWwgcGRmIGFuZCBsaW5rXG5cdFx0XHRpZiAobWVkaWEuaGFzT3duUHJvcGVydHkoJ3BhdGgnKSkge1xuXHRcdFx0XHRwYXJhbXMuZmlsZXMucHVzaChtZWRpYS5wYXRoKTtcblx0XHRcdFx0cGFyYW1zLnVybCA9IG51bGw7XG5cdFx0XHR9IGVsc2UgaWYgKG1lZGlhLnRodW1ibmFpbHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRwYXJhbXMuZmlsZXMucHVzaChtZWRpYS50aHVtYm5haWxzWzBdLnVybCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHJldHVybiBzaGFyZShwYXJhbXMpO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBzaGFyZShwYXJhbXMpIHtcbiAgICAvKlxuICAgICAgdGhpcyBpcyB0aGUgY29tcGxldGUgbGlzdCBvZiBjdXJyZW50bHkgc3VwcG9ydGVkIHBhcmFtcyB5b3UgY2FuIHBhc3MgdG8gdGhlIHBsdWdpbiAoYWxsIG9wdGlvbmFsKVxuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIG1lc3NhZ2U6ICdzaGFyZSB0aGlzJywgLy8gbm90IHN1cHBvcnRlZCBvbiBzb21lIGFwcHMgKEZhY2Vib29rLCBJbnN0YWdyYW0pXG4gICAgICAgIHN1YmplY3Q6ICd0aGUgc3ViamVjdCcsIC8vIGZpLiBmb3IgZW1haWxcbiAgICAgICAgZmlsZXM6IFsnJywgJyddLCAvLyBhbiBhcnJheSBvZiBmaWxlbmFtZXMgZWl0aGVyIGxvY2FsbHkgb3IgcmVtb3RlbHlcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cud2Vic2l0ZS5jb20vZm9vLyNiYXI/YT1iJyxcbiAgICAgICAgY2hvb3NlclRpdGxlOiAnUGljayBhbiBhcHAnIC8vIEFuZHJvaWQgb25seSwgeW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBzaGFyZSBzaGVldCB0aXRsZVxuICAgICAgfVxuICAgICovXG4gICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XHRcdFx0XG4gICAgICB2YXIgc29jaWFsID0gJHdpbmRvdy5wbHVnaW5zICYmICR3aW5kb3cucGx1Z2lucy5zb2NpYWxzaGFyaW5nO1xuICAgICAgXG4gICAgICAvLyBJZiBwYXJhbXMuZGVzY3JpcHRpb24gaXMgbnVsbFxuICAgIFxuXHRcdFx0aWYgKHNvY2lhbCkge1xuICAgICAgICBpZiAob3B0aW9ucy5wb3N0Zml4KSB7XG4gIFx0XHRcdFx0cGFyYW1zLnN1YmplY3QgKz0gb3B0aW9ucy5wb3N0Zml4O1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgcGFyYW1zLm1lc3NhZ2UgPSBwYXJhbXMubWVzc2FnZSAmJiBzdHJpcHRhZ3MoYnIybmwocGFyYW1zLm1lc3NhZ2UpKTtcbiAgICAgICAgcGFyYW1zLnN1YmplY3QgPSBwYXJhbXMuc3ViamVjdCAmJiBzdHJpcHRhZ3MoYnIybmwocGFyYW1zLnN1YmplY3QpKTtcbiAgICAgICAgdmFyIGNiX3NoYXJlID0ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWlsOiBmdW5jdGlvbihtc2cpIHtcbiAgICAgICAgICAgIGQucmVqZWN0KG1zZyk7XG4gICAgICAgICAgfSAgXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAkbG9nLmRlYnVnKCdzaGFyZVdpdGhPcHRpb25zJyk7XG4gICAgICAgICRsb2cuZGVidWcocGFyYW1zKTtcbiAgICAgICAgc29jaWFsLnNoYXJlV2l0aE9wdGlvbnMocGFyYW1zLCBjYl9zaGFyZS5zdWNjZXNzLCBjYl9zaGFyZS5mYWlsKTsgXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0ICBkLnJlamVjdCgnUGx1Z2luIHNvY2lhbHNoYXJpbmcgbWlzc2luZycpO1xuXHRcdFx0fVxuICAgICAgXG4gICAgICByZXR1cm4gZC5wcm9taXNlO1xuXHRcdH1cbiAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdC5tb2R1bGUoJ25nTWV1bW9iaS5VdGlscy5sb2FkaW5nJywgW10pXG5cdC5mYWN0b3J5KCdsb2FkaW5nSW50ZXJjZXB0b3InLCBsb2FkaW5nSW50ZXJjZXB0b3IpO1xuXHRcblx0ZnVuY3Rpb24gbG9hZGluZ0ludGVyY2VwdG9yKCRxLCAkcm9vdFNjb3BlLCAkbG9nKSB7XG5cdFx0XG5cdFx0dmFyIG51bUxvYWRpbmdzID0gMDtcblx0XHRcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVxdWVzdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIGlmICghbnVtTG9hZGluZ3MrKykge1xuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbG9hZGluZzpzdGFydCcpO1xuICAgICAgICB9XG5cblx0XHRcdFx0cmV0dXJuIGNvbmZpZyB8fCAkcS53aGVuKGNvbmZpZyk7XG5cdFx0XHR9LFxuXHRcdFx0cmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGlmICghKC0tbnVtTG9hZGluZ3MpKSB7XG5cdFx0XHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdsb2FkaW5nOnN0b3AnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiByZXNwb25zZSB8fCAkcS53aGVuKHJlc3BvbnNlKTtcblx0XHRcdH0sXG5cdFx0XHRyZXF1ZXN0RXJyb3I6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcblx0XHRcdFx0aWYgKCEoLS1udW1Mb2FkaW5ncykpIHtcblx0XHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2xvYWRpbmc6c3RvcCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuICRxLnJlamVjdChyZXF1ZXN0KTtcblx0XHRcdH0sXG5cdFx0XHRyZXNwb25zZUVycm9yOiBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRpZiAoISgtLW51bUxvYWRpbmdzKSkge1xuXHRcdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnbG9hZGluZzpzdG9wJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIFxuYW5ndWxhclxuXHQubW9kdWxlKCduZ01ldW1vYmkuVXRpbHMuZmlsZXMnLCBbJ3NsdWdpZmllciddKVxuXHQuY29uc3RhbnQoJ01JTUVTJywge1xuXHRcdCdhcHBsaWNhdGlvbi9wZGYnOiB7XG5cdFx0XHRjbGFzczogJ2ZhLWZpbGUtcGRmLW8nLFxuXHRcdFx0bGFiZWw6ICdWaWV3Jyxcblx0XHRcdGV4dGVuc2lvbjogJ3BkZicsXG5cdFx0XHRkb3dubG9hZDogdHJ1ZVxuXHRcdH0sXG5cdFx0J3RleHQvaHRtbCc6IHtcblx0XHRcdGNsYXNzOiAnZmEtcnNzJyxcblx0XHRcdGxhYmVsOiAnT3BlbicsXG5cdFx0XHRleHRlbnNpb246ICdodG1sJyxcblx0XHRcdGRvd25sb2FkOiBmYWxzZVxuXHRcdH0sXG4gICAgJ2FwcGxpY2F0aW9uL3ZuZC55b3V0dWJlLnZpZGVvK2h0bWwnOiB7XG5cdFx0XHRjbGFzczogJ2ZhLXlvdXR1YmUtcGxheScsXG5cdFx0XHRsYWJlbDogJ1BsYXknLFxuXHRcdFx0ZXh0ZW5zaW9uOiAnaHRtbCcsXG5cdFx0XHRkb3dubG9hZDogZmFsc2VcbiAgICB9LFxuXHRcdCdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnOiB7XG5cdFx0XHRjbGFzczogJ2ZhLWZpbGUtZXhjZWwtbycsXG5cdFx0XHRsYWJlbDogJ1ZpZXcnLFxuXHRcdFx0ZXh0ZW5zaW9uOiAneGxzJyxcblx0XHRcdGRvd25sb2FkOiB0cnVlXG5cdFx0fSxcblx0XHQnYXVkaW8vbXBlZyc6IHtcblx0XHRcdGNsYXNzOiAnZmEtZmlsZS1hdWRpby1vJyxcblx0XHRcdGxhYmVsOiAnUGxheScsXG5cdFx0XHRleHRlbnNpb246ICdtcDMnLFxuXHRcdFx0ZG93bmxvYWQ6IHRydWVcblx0XHR9LFxuXHRcdCdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCc6IHtcblx0XHRcdGNsYXNzOiAnZmEtZmlsZS1wb3dlcnBvaW50LW8nLFxuXHRcdFx0bGFiZWw6ICdWaWV3Jyxcblx0XHRcdGV4dGVuc2lvbjogJ3BwdCcsXG5cdFx0XHRkb3dubG9hZDogdHJ1ZSxcblx0XHR9LFxuXHRcdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc6IHtcblx0XHRcdGNsYXNzOiAnZmEtZmlsZS1leGNlbC1vJyxcblx0XHRcdGxhYmVsOiAnVmlldycsXG5cdFx0XHRleHRlbnNpb246ICd4bHMnLFxuXHRcdFx0ZG93bmxvYWQ6IHRydWVcblx0XHR9XG5cdH0pXG5cdC5maWx0ZXIoJ21lZGlhQ2xpY2tMYWJlbCcsIG1lZGlhQ2xpY2tMYWJlbClcblx0LmZpbHRlcignbWVkaWFJY29uQ2xhc3MnLCBtZWRpYUljb25DbGFzcykgXG4gIC5wcm92aWRlcignbWV1RmlsZXMnLCBbJ1NsdWcnLCBtZXVGaWxlc10pOyBcbiAgICAgICAgXG4gIGZ1bmN0aW9uIG1ldUZpbGVzKCkge1xuICAgIHZhciBmaWxlVHJhbnNmZXJzID0ge307XG4gICAgdmFyIGZpbGVzID0ge307XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBsb2NhbEZvbGRlcjogJ0Rvd25sb2FkcydcbiAgICB9O1xuICAgIHZhciBzdGF0dXNlcyA9IHtcbiAgICAgIGRvd25sb2FkOiAnZG93bmxvYWQnLFxuICAgICAgZG93bmxvYWRpbmc6ICdkb3dubG9hZGluZycsXG4gICAgICBkb3dubG9hZGVkOiAnZG93bmxvYWRlZCdcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldE9wdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBvcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCRxLCAkbG9nLCAkd2luZG93LCBNSU1FUywgU2x1Zykge1xuICAgICAgdmFyIGFwaSA9IHt9O1xuICAgICAgdmFyIHNlcnZpY2UgPSB7fTtcbiAgICAgIFxuICAgICAgLyoqXG4gICAgICAgKiAgQXBpIG1ldGhvZHMsIGF2YWlsYWJsZSBvbmx5IG9uIHRoZSBpbnNpZGUgdGhlIHNlcnZpY2VcbiAgICAgICAqL1xuXG4gICAgICBhcGkuZmlsZUVycm9ySGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8qXG4gICAgICAgIExpc3Qgb2YgRXJyb3JzIGNvcmRvdmEtcGx1Z2luLWZpbGVcbiAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3Jkb3ZhLXBsdWdpbi1maWxlI2xpc3Qtb2YtZXJyb3ItY29kZXMtYW5kLW1lYW5pbmdzXG4gICAgICAgIEZvciB0aGUgbWVhbmluZyBJIHJlY29tbWVuZCB0byByZWFkIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vZW50cmllcy1hcGkvI2NvbW1vbi10eXBlc1xuICAgICAgKi9cbiAgICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgICBjYXNlIEZpbGVFcnJvci5OT1RfRk9VTkRfRVJSOlxuICAgICAgICAgICAgZS5tZXNzYWdlID0gJ1JlcXVlc3RlZCBmaWxlIGNvdWxkIG5vdCBiZSBmb3VuZCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEZpbGVFcnJvci5TRUNVUklUWV9FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnU0VDVVJJVFlfRVJSJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRmlsZUVycm9yLkFCT1JUX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdBQk9SVF9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlRXJyb3IuTk9UX1JFQURBQkxFX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdOT1RfUkVBREFCTEVfRVJSJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRmlsZUVycm9yLkVOQ09ESU5HX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdNYWxmb3JtZWQgVVJJJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRmlsZUVycm9yLk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlRXJyb3IuSU5WQUxJRF9TVEFURV9FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnSU5WQUxJRF9TVEFURV9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlRXJyb3IuU1lOVEFYX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdTWU5UQVhfRVJSJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRmlsZUVycm9yLklOVkFMSURfTU9ESUZJQ0FUSU9OX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdJTlZBTElEX01PRElGSUNBVElPTl9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlRXJyb3IuUVVPVEFfRVhDRUVERURfRVJSOlxuICAgICAgICAgICAgZS5tZXNzYWdlID0gJ1FVT1RBX0VYQ0VFREVEX0VSUic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEZpbGVFcnJvci5UWVBFX01JU01BVENIX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdUWVBFX01JU01BVENIX0VSUic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEZpbGVFcnJvci5QQVRIX0VYSVNUU19FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnUEFUSF9FWElTVFNfRVJSJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnVW5rbm93biBFcnJvcic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAkbG9nLmRlYnVnKCdFcnJvcjogJyArIGUubWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGFwaS5maWxlVHJhbnNmZXJFcnJvckhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAvKlxuICAgICAgICBBIEZpbGVUcmFuc2ZlckVycm9yIG9iamVjdCBpcyBwYXNzZWQgdG8gYW4gZXJyb3IgY2FsbGJhY2sgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY29yZG92YS1wbHVnaW4tZmlsZS10cmFuc2ZlciNmaWxldHJhbnNmZXJlcnJvclxuICAgICAgKi9cbiAgICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgICBjYXNlIEZpbGVUcmFuc2ZlckVycm9yLkZJTEVfTk9UX0ZPVU5EX0VSUjpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdGSUxFX05PVF9GT1VORF9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlVHJhbnNmZXJFcnJvci5JTlZBTElEX1VSTF9FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnSU5WQUxJRF9VUkxfRVJSJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRmlsZVRyYW5zZmVyRXJyb3IuQ09OTkVDVElPTl9FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnQ09OTkVDVElPTl9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlVHJhbnNmZXJFcnJvci5BQk9SVF9FUlI6XG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSAnT3BlcmF0aW9uIGFib3J0ZWQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBGaWxlVHJhbnNmZXJFcnJvci5OT1RfTU9ESUZJRURfRVJSOlxuICAgICAgICAgICAgZS5tZXNzYWdlID0gJ05PVF9NT0RJRklFRF9FUlInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGUubWVzc2FnZSA9ICdVbmtub3duIEVycm9yJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgICRsb2cuZGVidWcoJ0Vycm9yOiAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfTtcblxuICAgICAgYXBpLmdldEZpbGVzRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKlxuICAgICAgICAgIENoZWNrIGlmIGZpbGVzIGlzIGFscmVhZHkgbG9hZGVkIChpZiBub3QgaXMgZW1wdHkpXG4gICAgICAgIFRPRE86IGlzIGxvYWRpbmcgbG9jYWxTdG9yYWdlWydmaWxlc10gZm9yIGVhY2ggbWVkaWEsIHNob3VsZCBiZSBvcHRpbWl6ZWQgdG8gb25seSBsb2FkIG9uY2UgZm9yIGFsbFxuICAgICAgICAqL1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKGZpbGVzKS5sZW5ndGggICYmIGxvY2FsU3RvcmFnZVsnZmlsZXMnXSkgeyBcbiAgICAgICAgICB2YXIgZW50cmllcyA9IGFuZ3VsYXIuZnJvbUpzb24obG9jYWxTdG9yYWdlWydmaWxlcyddKTtcbiAgICAgICAgICBmaWxlcyA9IGFwaS5jaGVja1JlcG9zaXRvcnlDb25zaXN0ZW5jeShlbnRyaWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZXM7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBhcGkuZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBleHQgPSBmaWxlLmV4dGVuc2lvbiB8fCAnJztcbiAgICAgICAgXG4gICAgICAgIGlmICghZXh0ICYmIE1JTUVTW2ZpbGUudHlwZV0pXG4gICAgICAgICAgZXh0ICs9ICcuJyArIE1JTUVTW2ZpbGUudHlwZV0uZXh0ZW5zaW9uO1xuICAgICAgICBcbiAgICAgICAgdmFyIG5hbWUgPSBmaWxlLnRpdGxlIHx8ICcnO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgbmFtZSA9IG1kNShmaWxlLnVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmFtZSA9IFNsdWcuc2x1Z2lmeShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBuYW1lICsgZXh0O1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXBpLmNoZWNrUmVwb3NpdG9yeUNvbnNpc3RlbmN5ID0gZnVuY3Rpb24oZW50cmllcykge1xuICAgICAgICAvKlxuICAgICAgICAgIGlkIG11c3QgYmUgZXF1YWxzIHRvIGZpbGUucGF0aFxuICAgICAgICAgIGFuZCBmdWxsUGF0aCBjYW4gYmUgdXBkYXRlZCBpZiBBcHAgaXMgdXBkYXRlZCAoaU9TKVxuICAgICAgICAqL1xuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGVudHJpZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5LGluZGV4KSB7XG4gICAgICAgICAgb2JqW2VudHJpZXNba2V5XS5wYXRoXSA9IGVudHJpZXNba2V5XTtcbiAgICAgICAgICBvYmpbZW50cmllc1trZXldLnBhdGhdLmZ1bGxQYXRoID0gYXBpLmdldEZpbGVGdWxsUGF0aChlbnRyaWVzW2tleV0ucGF0aCk7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2NhbFN0b3JhZ2VbJ2ZpbGVzJ10gPSBhbmd1bGFyLnRvSnNvbihvYmopO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBSZXR1cm5zIHRoZSBmdWxsIGFic29sdXRlIHBhdGggZnJvbSB0aGUgcm9vdCB0byB0aGUgRmlsZUVudHJ5XG4gICAgICBhcGkuZ2V0RmlsZUZ1bGxQYXRoID0gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgICAgIHZhciBkaXJlY3RvcnkgPSBudWxsO1xuXHRcdFx0XHRpZiAoZGV2aWNlLnBsYXRmb3JtID09ICdBbmRyb2lkJykge1xuXHRcdFx0XHRcdGRpcmVjdG9yeSA9IGNvcmRvdmEuZmlsZS5leHRlcm5hbERhdGFEaXJlY3Rvcnk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdCAgICAgICAgZGlyZWN0b3J5ID0gY29yZG92YS5maWxlLmRhdGFEaXJlY3Rvcnk7XG5cdFx0XHRcdH1cbiAgICAgICAgcmV0dXJuIGRpcmVjdG9yeSArIGZpbGVQYXRoO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXBpLmdldEZpbGVQYXRoID0gZnVuY3Rpb24gKGZpbGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmxvY2FsRm9sZGVyICsgJy8nICsgZmlsZU5hbWU7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvL2FkZCBmaWxlIHRvIGxvY2Fsc3RvcmFnZVxuICAgICAgYXBpLmFkZEZpbGUgPSBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIGZpbGVzW2ZpbGUucGF0aF0gPSBmaWxlO1xuICAgICAgICBsb2NhbFN0b3JhZ2VbJ2ZpbGVzJ10gPSBhbmd1bGFyLnRvSnNvbihmaWxlcyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvL3JlbW92ZSBmaWxlIGZyb20gbG9jYWxzdG9yYWdlXG4gICAgICBhcGkucmVtb3ZlRmlsZSA9IGZ1bmN0aW9uKGlkKSB7XG4gIFx0XHRcdGRlbGV0ZSBmaWxlc1tpZF07XG4gICAgICAgIGxvY2FsU3RvcmFnZVsnZmlsZXMnXSA9IGFuZ3VsYXIudG9Kc29uKGZpbGVzKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vZ2V0IGZpbGVzIGhhbmRsZXJcbiAgICAgIGFwaS5nZXRGaWxlRW50cnkgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgcSA9ICRxLmRlZmVyKCk7XG4gICAgICAgICR3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChcbiAgICAgICAgICBwYXRoLCBcbiAgICAgICAgICBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgcS5yZXNvbHZlKGVudHJ5KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKGVycm9yKTtcbiAgICAgICAgICAgIGVycm9yID0gYXBpLmZpbGVFcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgcS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHEucHJvbWlzZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGFwaS5pc0Rvd25sb2FkZWQgPSBmdW5jdGlvbihmaWxlUGF0aCkge1xuICAgICAgICAvKlxuICAgICAgICAgIFRPRE86IElmIHN0YXR1cyBpcyBkb3dubG9hZGVkIGJ1dCBsb2NhbCBmaWxlIGlzIG1pc3NpbmcgdGhlbiByZXR1cm4gRkFMU0VcbiAgICAgICAgICBLZWVwIHJlY29yZCBvbiBsb2NhbHN0b3JhZ2UgdG8gYXBwZWFycyBhcyBmaWxlIGFscmVhZHkgZG93bmxvYWRlZCwgdXNlciBjYW4gcmUtZG93bmxvYWQgaWYgbmVlZGVkXG4gICAgICAgICovXG4gICAgICAgIHJldHVybiAhIWFwaS5nZXRGaWxlc0Zyb21Mb2NhbFN0b3JhZ2UoKVtmaWxlUGF0aF07XG4gICAgICB9O1xuICAgICAgXG4gICAgICBhcGkuaXNEb3dubG9hZGluZyA9IGZ1bmN0aW9uKGZpbGVQYXRoKSB7XG4gICAgICAgIHJldHVybiAhIWZpbGVUcmFuc2ZlcnNbZmlsZVBhdGhdOyAgICAgXG4gICAgICB9O1xuICAgICAgXG4gICAgICBhcGkuZ2V0RmlsZVN0YXR1cyA9IGZ1bmN0aW9uKGZpbGVQYXRoKSB7XG4gICAgICAgIGlmIChhcGkuaXNEb3dubG9hZGVkKGZpbGVQYXRoKSkge1xuICAgICAgICAgIHJldHVybiBzdGF0dXNlcy5kb3dubG9hZGVkO1xuICAgICAgICB9IGVsc2UgaWYgKGFwaS5pc0Rvd25sb2FkaW5nKGZpbGVQYXRoKSkge1xuICAgICAgICAgIHJldHVybiBzdGF0dXNlcy5kb3dubG9hZGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc3RhdHVzZXMuZG93bmxvYWQ7IFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIFxuICAgICAgLyoqXG4gICAgICAgKiBTZXJ2aWNlIG1ldGhvZHMsIHRoYXQgYXJlIHB1YmxpYyBhbmQgYXZhaWxhYmxlIGZvciBhbnkgcmVzb3VyY2VcbiAgICAgICAqL1xuICAgICAgLy8gRmlsZSBhdmFpbGFibGUgc3RhdHVzZXMsIGJlc3QgZm9yIGRlYnVnIGFuZCBtYWl0YWluIHRoYW4ganVzdCBzdHJpbmcuXG4gICAgICBcbiAgICAgIHNlcnZpY2UuZG93bmxvYWQgPSBkb3dubG9hZDtcbiAgICAgIHNlcnZpY2UuZGVjb3JhdGVGaWxlID0gZGVjb3JhdGVGaWxlO1xuICAgICAgc2VydmljZS5yZW1vdmUgPSByZW1vdmU7XG4gICAgICBzZXJ2aWNlLmxpc3QgPSBhcGkuZ2V0RmlsZXNGcm9tTG9jYWxTdG9yYWdlO1xuICAgICAgc2VydmljZS5vcGVuID0gb3BlbjtcbiAgICAgIHNlcnZpY2UuaXNEb3dubG9hZGFibGUgPSBpc0Rvd25sb2FkYWJsZTtcbiAgICAgIHNlcnZpY2Uub3BlbkZpbGVPcGVuZXIgPSBvcGVuRmlsZU9wZW5lcjtcbiAgICAgIFxuICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICBcbiAgICAgIC8qXG4gICAgICAgIEluc3RhbGw6IGNvcmRvdmEgcGx1Z2luIGFkZCBjb3Jkb3ZhLXBsdWdpbi1maWxlLW9wZW5lcjJcbiAgICAgICAgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvY29yZG92YS1wbHVnaW4tZmlsZS1vcGVuZXIyXG4gICAgICAqL1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBpc0Rvd25sb2FkYWJsZShmaWxlKSB7XG4gICAgICAgIHJldHVybiAoZmlsZS50eXBlIGluIE1JTUVTKSA/IE1JTUVTW2ZpbGUudHlwZV0uZG93bmxvYWQgOiB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBvcGVuRmlsZU9wZW5lcih1cmksIHR5cGUpIHtcbiAgICAgICAgdmFyIHEgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGNvcmRvdmEucGx1Z2lucy5maWxlT3BlbmVyMi5vcGVuKHVyaSwgdHlwZSwge1xuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcS5yZWplY3QoZSk7XG4gICAgICAgICAgfSwgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHEucHJvbWlzZTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIG9wZW4oZmlsZSkge1xuICAgICAgICB2YXIgcSA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBjYl9lbnRyeSA9IHtcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgb3BlbkZpbGVPcGVuZXIoZW50cnkudG9VUkwoKSwgZmlsZS50eXBlKS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBxLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHEucmVqZWN0KGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcS5yZWplY3QoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZmlsZS5mdWxsUGF0aCA9IGFwaS5nZXRGaWxlRnVsbFBhdGgoZmlsZS5wYXRoKTtcbiAgICAgICAgYXBpLmdldEZpbGVFbnRyeShmaWxlLmZ1bGxQYXRoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICBjYl9lbnRyeS5zdWNjZXNzKGVudHJ5KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjYl9lbnRyeS5mYWlsKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBxLnByb21pc2U7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBkb3dubG9hZChmaWxlKSB7XG4gICAgICAgIHZhciBxID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGZ0ID0gbmV3IEZpbGVUcmFuc2ZlcigpO1xuICAgICAgICB2YXIgdXJpID0gZW5jb2RlVVJJKGZpbGUudXJsKTtcbiAgICAgICAgXG4gICAgICAgIGZpbGUuc3RhdHVzID0gc3RhdHVzZXMuZG93bmxvYWRpbmc7XG4gICAgICAgIGZpbGUuZnVsbFBhdGggPSBhcGkuZ2V0RmlsZUZ1bGxQYXRoKGZpbGUucGF0aCk7XG4gICAgICAgIGZpbGVUcmFuc2ZlcnNbZmlsZS5wYXRoXSA9IGZ0O1xuXG4gICAgICAgIGZ0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICBxLm5vdGlmeShwcm9ncmVzcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcS5wcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZ0LmFib3J0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNiX2Rvd25sb2FkID0ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGZpbGVFbnRyeSkge1xuICAgICAgICAgICAgZmlsZS5zdGF0dXMgPSBzdGF0dXNlcy5kb3dubG9hZGVkO1xuXHRcdFx0XHRcdFx0YXBpLmFkZEZpbGUoZmlsZSk7XG5cdFx0XHRcdFx0XHRkZWxldGUgZmlsZVRyYW5zZmVyc1tmaWxlLnBhdGhdO1xuICAgICAgICAgICAgcS5yZXNvbHZlKGZpbGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICRsb2cuZGVidWcoZXJyb3IpO1xuICAgICAgICAgICAgZmlsZS5zdGF0dXMgPSBzdGF0dXNlcy5kb3dubG9hZDtcbiAgICAgICAgICAgIGVycm9yID0gYXBpLmZpbGVUcmFuc2ZlckVycm9ySGFuZGxlcihlcnJvcik7XG5cdFx0XHRcdFx0XHRkZWxldGUgZmlsZVRyYW5zZmVyc1tmaWxlLnBhdGhdO1xuXHRcdFx0XHRcdFx0cS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnQuZG93bmxvYWQodXJpLCBmaWxlLmZ1bGxQYXRoLCBjYl9kb3dubG9hZC5zdWNjZXNzLCBjYl9kb3dubG9hZC5mYWlsLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcS5wcm9taXNlO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gcmVtb3ZlKGZpbGUpIHtcbiAgICAgICAgdmFyIHEgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGZpbGUuZnVsbFBhdGggPSBhcGkuZ2V0RmlsZUZ1bGxQYXRoKGZpbGUucGF0aCk7XG4gICAgICAgIGFwaS5nZXRGaWxlRW50cnkoZmlsZS5mdWxsUGF0aClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgZW50cnkucmVtb3ZlKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgYXBpLnJlbW92ZUZpbGUoZmlsZS5wYXRoKTtcbiAgICAgICAgICAgICAgICBmaWxlLnN0YXR1cyA9IHN0YXR1c2VzLmRvd25sb2FkO1xuICAgICAgICAgICAgICAgIHEucmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICAgICAgfSxmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIGZpbGUuc3RhdHVzID0gc3RhdHVzZXMuZG93bmxvYWQ7XG4gICAgICAgICAgICBxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHEucHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZGVjb3JhdGVGaWxlKGZpbGUpIHtcbiAgICAgICAgZmlsZS5uYW1lID0gZmlsZS5uYW1lIHx8IGFwaS5nZXRGaWxlTmFtZShmaWxlKTtcbiAgICAgICAgZmlsZS5wYXRoID0gZmlsZS5wYXRoIHx8IGFwaS5nZXRGaWxlUGF0aChmaWxlLm5hbWUpO1xuICAgICAgICBmaWxlLnN0YXR1cyA9IGFwaS5nZXRGaWxlU3RhdHVzKGZpbGUucGF0aCk7XG4gICAgICAgIC8qXG4gICAgICAgICAgSWYgZGV2aWNlIG5vdCBleGlzdHMgdGhlbiBhcHAgcnVuIG9uIGJyb3dzZXJcbiAgICAgICAgKi9cblx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoZGV2aWNlKSlcbiAgICAgICAgICBmaWxlLmZ1bGxQYXRoID0gYXBpLmdldEZpbGVGdWxsUGF0aChmaWxlLnBhdGgpO1xuXG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuICBcblx0ZnVuY3Rpb24gbWVkaWFDbGlja0xhYmVsKE1JTUVTKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdHJldHVybiBNSU1FU1t0eXBlXSA/IE1JTUVTW3R5cGVdLmxhYmVsIDogJ09wZW4nO1xuXHRcdH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lZGlhSWNvbkNsYXNzKE1JTUVTKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdHJldHVybiBNSU1FU1t0eXBlXSA/IE1JTUVTW3R5cGVdLmNsYXNzIDogJ2ZhLWV4dGVybmFsLWxpbmsnO1xuXHRcdH07XG5cdH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHQubW9kdWxlKCduZ01ldW1vYmkuVXRpbHMuZGlhbG9ncycsIFtdKVxuXHQuZmFjdG9yeSgnbWV1RGlhbG9ncycsIG1ldURpYWxvZ3MpO1xuICBcbiAgLypcbiAgICBpbnN0YWxsICAgOiAgICAgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWRpYWxvZ3MgbmwueC1zZXJ2aWNlcy5wbHVnaW5zLnRvYXN0XG4gICAgbGluayAgICAgIDogICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY29yZG92YS1wbHVnaW4tZGlhbG9nc1xuICAgIGxpbmsgICAgICA6ICAgICBodHRwczovL2dpdGh1Yi5jb20vRWRkeVZlcmJydWdnZW4vVG9hc3QtUGhvbmVHYXAtUGx1Z2luICBcbiAgKi9cbiAgXG4gIGZ1bmN0aW9uIG1ldURpYWxvZ3MoJHEsICR3aW5kb3cpIHtcbiAgICBcbiAgICB2YXIgc2VydmljZSA9IHt9O1xuICAgIFxuICAgIHNlcnZpY2UuYWxlcnQgPSBhbGVydDtcbiAgICBzZXJ2aWNlLmNvbmZpcm0gPSBjb25maXJtO1xuICAgIHNlcnZpY2UudG9hc3QgPSB0b2FzdDtcbiAgICBcbiAgICByZXR1cm4gc2VydmljZTtcbiAgICBcbiAgICBmdW5jdGlvbiBhbGVydCAobWVzc2FnZSwgdGl0bGUsIGJ1dHRvbk5hbWUpIHtcbiAgICAgIHZhciBxID0gJHEuZGVmZXIoKTtcblxuICAgICAgaWYgKCEkd2luZG93Lm5hdmlnYXRvci5ub3RpZmljYXRpb24pIHtcbiAgICAgICAgJHdpbmRvdy5hbGVydChtZXNzYWdlKTtcbiAgICAgICAgcS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYXZpZ2F0b3Iubm90aWZpY2F0aW9uLmFsZXJ0KG1lc3NhZ2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBxLnJlc29sdmUoKTtcbiAgICAgICAgfSwgdGl0bGUsIGJ1dHRvbk5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcS5wcm9taXNlO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gY29uZmlybSAobWVzc2FnZSwgdGl0bGUsIGJ1dHRvbkxhYmVscykge1xuICAgICAgdmFyIHEgPSAkcS5kZWZlcigpO1xuXG4gICAgICBpZiAoISR3aW5kb3cubmF2aWdhdG9yLm5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAoJHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgcS5yZXNvbHZlKDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHEucmVzb2x2ZSgyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmF2aWdhdG9yLm5vdGlmaWNhdGlvbi5jb25maXJtKG1lc3NhZ2UsIGZ1bmN0aW9uIChidXR0b25JbmRleCkge1xuICAgICAgICAgIHEucmVzb2x2ZShidXR0b25JbmRleCk7XG4gICAgICAgIH0sIHRpdGxlLCBidXR0b25MYWJlbHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcS5wcm9taXNlO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gdG9hc3QgKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBxID0gJHEuZGVmZXIoKTtcblx0XHRcdHZhciB0b2FzdCA9ICR3aW5kb3cucGx1Z2lucyAmJiAkd2luZG93LnBsdWdpbnMudG9hc3Q7XG4gICAgICBcblx0XHRcdGlmICh0b2FzdCkge1xuICAgICAgICB0b2FzdC5zaG93TG9uZ0JvdHRvbShtZXNzYWdlLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBxLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBxLnJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBxLnByb21pc2U7XG4gICAgfTtcbiAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdC5tb2R1bGUoJ25nTWV1bW9iaS5VdGlscy5jYWxlbmRhcicsIFtdKVxuXHQuZmFjdG9yeSgnbWV1Q2FsZW5kYXInLCBbJyRxJywgJyR3aW5kb3cnLCAnc3RyaXB0YWdzRmlsdGVyJywgJ2JyMm5sRmlsdGVyJywgbWV1Q2FsZW5kYXJdKTtcbiAgXG4gIC8qXG4gICAgY29yZG92YSBwbHVnaW4gYWRkIGh0dHBzOi8vZ2l0aHViLmNvbS9FZGR5VmVyYnJ1Z2dlbi9DYWxlbmRhci1QaG9uZUdhcC1QbHVnaW4uZ2l0XG4gICAgSWYgc3RhcnQgYW5kIGVuZF9kYXRlIGVxdWFsIDAwOjAwIHRoZW4gdGhlIGV2ZW50IG9jY3VycyBhbGwgZGF5IGxvbmdcbiAgKi9cbiAgXG4gIGZ1bmN0aW9uIG1ldUNhbGVuZGFyKCRxLCAkd2luZG93LCBzdHJpcHRhZ3MsIGJyMm5sKSB7XG4gICAgXG4gICAgdmFyIHNlcnZpY2UgPSB7fTtcbiAgICBcbiAgICBzZXJ2aWNlLmNyZWF0ZUV2ZW50SW50ZXJhY3RpdmVseSA9IGNyZWF0ZUV2ZW50SW50ZXJhY3RpdmVseTtcbiAgICBcbiAgICByZXR1cm4gc2VydmljZTtcbiAgICBcbiAgICBmdW5jdGlvbiBjcmVhdGVFdmVudEludGVyYWN0aXZlbHkob3B0aW9ucykge1xuICAgICAgdmFyIGQgPSAkcS5kZWZlcigpLFxuICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgICBhZGRyZXNzOiBudWxsLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICBzdGFydF9kYXRlOiBudWxsLFxuICAgICAgICAgIGVuZF9kYXRlOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgIGRlZmF1bHRPcHRpb25zID0gYW5ndWxhci5leHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAkd2luZG93LnBsdWdpbnMuY2FsZW5kYXIuY3JlYXRlRXZlbnRJbnRlcmFjdGl2ZWx5KFxuICAgICAgICBzdHJpcHRhZ3MoZGVmYXVsdE9wdGlvbnMudGl0bGUpLFxuICAgICAgICBzdHJpcHRhZ3MoZGVmYXVsdE9wdGlvbnMuYWRkcmVzcyksXG4gICAgICAgIHN0cmlwdGFncyhicjJubChkZWZhdWx0T3B0aW9ucy5kZXNjcmlwdGlvbikpLFxuICAgICAgICBuZXcgRGF0ZShkZWZhdWx0T3B0aW9ucy5zdGFydF9kYXRlICAqIDEwMDApLFxuICAgICAgICBuZXcgRGF0ZShkZWZhdWx0T3B0aW9ucy5lbmRfZGF0ZSAgKiAxMDAwKSxcbiAgICAgICAgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICBkLnJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIGQucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG4gIFxuXHRhbmd1bGFyXG5cdC5tb2R1bGUoJ25nTWV1bW9iaS5VdGlscy5hbmFseXRpY3MnLCBbXSlcblx0LmZhY3RvcnkoJ2dvb2dsZUFuYWx5dGljc0NvcmRvdmEnLCBnb29nbGVBbmFseXRpY3NDb3Jkb3ZhKVxuXHQuZmFjdG9yeSgnZ29vZ2xlQW5hbHl0aWNzJywgZ29vZ2xlQW5hbHl0aWNzKVxuICAuZmFjdG9yeSgnJGNvcmRvdmFHb29nbGVBbmFseXRpY3MnLCAkY29yZG92YUdvb2dsZUFuYWx5dGljcylcblx0LmZhY3RvcnkoJ21ldUFuYWx5dGljcycsIG1ldUFuYWx5dGljcyk7XG4gIFxuICAvKlxuICAgIEluc3BpcmVkIGJ5IG5nQ29yZG92YVxuICAgIFdlJ3ZlIGV4dHJhY3RlZCBvbmx5IHJlcXVpcmVkIG1ldGhvZHMgXG4gIFxuICAgIGluc3RhbGwgICA6ICAgICBjb3Jkb3ZhIHBsdWdpbiBhZGQgaHR0cHM6Ly9naXRodWIuY29tL2RhbndpbHNvbi9nb29nbGUtYW5hbHl0aWNzLXBsdWdpbi5naXRcbiAgKi9cblxuICBmdW5jdGlvbiAkY29yZG92YUdvb2dsZUFuYWx5dGljcygkcSwgJHdpbmRvdywgJGxvZykge1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgXG4gICAgc2VydmljZS5zdGFydFRyYWNrZXJXaXRoSWQgPSBzdGFydFRyYWNrZXJXaXRoSWQ7XG4gICAgc2VydmljZS5kZWJ1Z01vZGUgPSBkZWJ1Z01vZGU7XG4gICAgc2VydmljZS50cmFja1ZpZXcgPSB0cmFja1ZpZXc7XG4gICAgc2VydmljZS50cmFja0V2ZW50ID0gdHJhY2tFdmVudDtcbiAgICBzZXJ2aWNlLnNldFVzZXJJZCA9IHNldFVzZXJJZDtcbiAgICBcbiAgICByZXR1cm4gc2VydmljZTtcblxuICAgIGZ1bmN0aW9uIHNldFVzZXJJZChpZCkge1xuICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkbG9nLmRlYnVnKCdTZXQgVXNlciBJZDogJyArIGlkKTtcbiAgICAgIFxuICAgICAgJHdpbmRvdy5hbmFseXRpY3Muc2V0VXNlcklkKGlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydFRyYWNrZXJXaXRoSWQoaWQpIHtcbiAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGxvZy5kZWJ1ZygnU3RhcnQgdHJhY2tpbmcgR0EgSWQ6ICcgKyBpZCk7XG5cbiAgICAgICR3aW5kb3cuYW5hbHl0aWNzLnN0YXJ0VHJhY2tlcldpdGhJZChpZCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGQucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgZC5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVidWdNb2RlKCkge1xuICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkd2luZG93LmFuYWx5dGljcy5kZWJ1Z01vZGUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGQucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGQucmVqZWN0KCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFja1ZpZXcoc2NyZWVuTmFtZSkge1xuICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuICAgICAgXG4gICAgICAkbG9nLmRlYnVnKCdUcmFjayBWaWV3OiAnICsgc2NyZWVuTmFtZSk7XG4gICAgICBcbiAgICAgICR3aW5kb3cuYW5hbHl0aWNzLnRyYWNrVmlldyhzY3JlZW5OYW1lLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFja0V2ZW50KGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSkge1xuICAgICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgICB2YXIgZXYgPSBbY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHZhbHVlXTtcbiAgICAgICRsb2cuZGVidWcoJ1RyYWNrIEV2ZW50OiAnICsgZXYudG9TdHJpbmcoKSk7XG4gICAgICBcbiAgICAgICR3aW5kb3cuYW5hbHl0aWNzLnRyYWNrRXZlbnQoY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHZhbHVlLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9XG4gIH1cblx0XHRcblx0ZnVuY3Rpb24gZ29vZ2xlQW5hbHl0aWNzQ29yZG92YSgkY29yZG92YUdvb2dsZUFuYWx5dGljcywgJGxvZykge1xuICAgIFxuICAgIHZhciBzZXJ2aWNlID0ge307XG4gICAgXG4gICAgc2VydmljZS5pbml0ID0gaW5pdDtcbiAgICBzZXJ2aWNlLmRlYnVnTW9kZSA9ICRjb3Jkb3ZhR29vZ2xlQW5hbHl0aWNzLmRlYnVnTW9kZTtcbiAgICBzZXJ2aWNlLnRyYWNrVmlldyA9ICRjb3Jkb3ZhR29vZ2xlQW5hbHl0aWNzLnRyYWNrVmlldztcbiAgICBzZXJ2aWNlLnRyYWNrRXZlbnQgPSAkY29yZG92YUdvb2dsZUFuYWx5dGljcy50cmFja0V2ZW50O1xuICAgIHNlcnZpY2Uuc3RhcnRUcmFja2VyV2l0aElkID0gJGNvcmRvdmFHb29nbGVBbmFseXRpY3Muc3RhcnRUcmFja2VyV2l0aElkO1xuICAgIHNlcnZpY2Uuc2V0VXNlcklkID0gJGNvcmRvdmFHb29nbGVBbmFseXRpY3Muc2V0VXNlcklkO1xuICAgIFxuICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIFxuICAgIGZ1bmN0aW9uIGluaXQodHJhY2tJZCkge1xuICAgICAgJGNvcmRvdmFHb29nbGVBbmFseXRpY3Muc3RhcnRUcmFja2VyV2l0aElkKHRyYWNrSWQpO1xuICAgIH1cblx0fVxuICBcblx0ZnVuY3Rpb24gZ29vZ2xlQW5hbHl0aWNzKCRsb2csICRxKSB7XG4gICAgXG4gICAgdmFyIHNlcnZpY2UgPSB7fTtcbiAgICBcbiAgICBzZXJ2aWNlLmluaXQgPSBpbml0O1xuICAgIHNlcnZpY2UuZGVidWdNb2RlID0gZGVidWdNb2RlO1xuICAgIHNlcnZpY2UudHJhY2tWaWV3ID0gdHJhY2tWaWV3O1xuICAgIHNlcnZpY2UudHJhY2tFdmVudCA9IHRyYWNrRXZlbnQ7XG4gICAgc2VydmljZS5zdGFydFRyYWNrZXJXaXRoSWQgID0gc3RhcnRUcmFja2VyV2l0aElkO1xuICAgIHNlcnZpY2Uuc2V0VXNlcklkID0gc2V0VXNlcklkO1xuICAgIFxuICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIFxuICAgIGZ1bmN0aW9uIGluaXQodHJhY2tJZCkge1xuICAgICAgJGxvZy5kZWJ1ZygnR29vZ2xlIEFuYWx5dGljcyB0cmFjayBJZDogJyArIHRyYWNrSWQpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBkZWJ1Z01vZGUoKSB7XG4gICAgICAkbG9nLmRlYnVnKCdFbmFibGUgRGVidWcnKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdHJhY2tWaWV3KHRpdGxlKSB7XG4gICAgICAkbG9nLmRlYnVnKCdUcmFja2luZyBQYWdlOiAnICsgdGl0bGUpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB0cmFja0V2ZW50KGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSkge1xuICAgICAgJGxvZy5kZWJ1ZygnVHJhY2tpbmcgRXZlbnQ6ICcgKyBhY3Rpb24pO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBzdGFydFRyYWNrZXJXaXRoSWQoaWQpIHtcbiAgICAgIHZhciBtc2cgPSAnVHJhY2tpbmcgR0EgSWQ6ICcgKyBpZDtcbiAgICAgIHZhciBkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZC5yZXNvbHZlKG1zZyk7XG5cbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNldFVzZXJJZChpZCkge1xuICAgICAgJGxvZy5kZWJ1ZygnVHJhY2tpbmcgVXNlcjogJyArIGlkKTtcbiAgICB9XG5cdH1cbiAgXG5cdGZ1bmN0aW9uIG1ldUFuYWx5dGljcygkaW5qZWN0b3IsICR3aW5kb3cpIHtcblxuXHRcdGlmICgkd2luZG93LmNvcmRvdmEpIHtcblx0XHRcdHJldHVybiAkaW5qZWN0b3IuZ2V0KCdnb29nbGVBbmFseXRpY3NDb3Jkb3ZhJyk7XG5cdFx0fSBlbHNlIHtcblx0XHQgIHJldHVybiAkaW5qZWN0b3IuZ2V0KCdnb29nbGVBbmFseXRpY3MnKTtcblx0XHR9XG5cdH1cbn0pKCk7IiwiLyogZ2xvYmFsIGFuZ3VsYXIgKi9cbi8qIGVzbGludCBuby11bmRlZjogXCJlcnJvclwiICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ25nTWV1bW9iaS5VdGlscy5maWx0ZXJzJywgW10pXG4gIC5maWx0ZXIoJ2lzRW1wdHknLCBpc0VtcHR5KVxuICAuZmlsdGVyKCdicjJubCcsIGJyMm5sKVxuICAuZmlsdGVyKCdzdHJpcHRhZ3MnLCBzdHJpcHRhZ3MpO1xuXG4gIGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiAhT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJyMm5sKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvPGJyXFxzKltcXC9dPz4vZ2ksICdcXG4nKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaXB0YWdzKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgcmV0dXJuIGFuZ3VsYXJcbiAgICAgICAgICAuZWxlbWVudCgnPGRpdi8+JylcbiAgICAgICAgICAuaHRtbCh0ZXh0KVxuICAgICAgICAgIC50ZXh0KCk7XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIi8qIGdsb2JhbCBhbmd1bGFyICovXG4vKiBlc2xpbnQgbm8tdW5kZWY6IFwiZXJyb3JcIiAqL1xuLypcbiAgVE9ETzogc2hvdWxkIHJlbGVhc2UgbWluaWZpZWQgKC5taW4uanMpIGFuZCBub3QgKC5qcylcbiovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ25nTWV1bW9iaS5VdGlscycsIFtcbiAgICAvLyduZ01ldW1vYmkuVXRpbHMuZmlsZXMnLFxuICAgIC8vJ25nTWV1bW9iaS5VdGlscy5hcGknLFxuICAgICduZ01ldW1vYmkuVXRpbHMubG9hZGluZycsXG4gICAgLy8nbmdNZXVtb2JpLlV0aWxzLmNvbm5lY3Rpb24nLFxuICAgICduZ01ldW1vYmkuVXRpbHMuY2FsZW5kYXInLFxuICAgICduZ01ldW1vYmkuVXRpbHMuYW5hbHl0aWNzJyxcbiAgICAnbmdNZXVtb2JpLlV0aWxzLnNvY2lhbFNoYXJpbmcnLFxuICAgICduZ01ldW1vYmkuVXRpbHMuZGlhbG9ncycsXG4gICAgJ25nTWV1bW9iaS5VdGlscy5maWxlcydcbiAgICAvLyduZ01ldW1vYmkuVXRpbHMuZmlsdGVycydcbiAgXSk7XG4gIFxufSkoKTtcbiIsIi8qKlxuICogYW5ndWxhci1zbHVnaWZ5IC0tIHByb3ZpZGVzIHNsdWdpZmljYXRpb24gZm9yIEFuZ3VsYXJKU1xuICpcbiAqIENvcHlyaWdodCDCqSAyMDEzIFBhdWwgU21pdGggPHBhdWxzbWl0aEBwb2JveC5jb20+XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUg4oCcU29mdHdhcmXigJ0pLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCDigJxBUyBJU+KAnSwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIG1vZCA9IGFuZ3VsYXIubW9kdWxlKFwic2x1Z2lmaWVyXCIsIFtdKTtcblxuICAgIC8vIFVuaWNvZGUgKG5vbi1jb250cm9sKSBjaGFyYWN0ZXJzIGluIHRoZSBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluXG4gICAgLy8gRXh0ZW5kZWQtQSBibG9ja3MsIHRyYW5zbGl0ZXJhdGVkIGludG8gQVNDSUkgY2hhcmFjdGVycy5cbiAgICB2YXIgY2hhcm1hcCA9IHtcbiAgICAgICAgJ8KgJzogXCIgXCIsXG4gICAgICAgICfCoSc6IFwiIVwiLFxuICAgICAgICAnwqInOiBcImNcIixcbiAgICAgICAgJ8KjJzogXCJsYlwiLFxuICAgICAgICAnwqUnOiBcInllblwiLFxuICAgICAgICAnwqYnOiBcInxcIixcbiAgICAgICAgJ8KnJzogXCJTU1wiLFxuICAgICAgICAnwqgnOiBcIlxcXCJcIixcbiAgICAgICAgJ8KpJzogXCIoYylcIixcbiAgICAgICAgJ8KqJzogXCJhXCIsXG4gICAgICAgICfCqyc6IFwiPDxcIixcbiAgICAgICAgJ8KsJzogXCJub3RcIixcbiAgICAgICAgJ8KtJzogXCItXCIsXG4gICAgICAgICfCric6IFwiKFIpXCIsXG4gICAgICAgICfCsCc6IFwiXjBcIixcbiAgICAgICAgJ8KxJzogXCIrLy1cIixcbiAgICAgICAgJ8KyJzogXCJeMlwiLFxuICAgICAgICAnwrMnOiBcIl4zXCIsXG4gICAgICAgICfCtCc6IFwiJ1wiLFxuICAgICAgICAnwrUnOiBcInVcIixcbiAgICAgICAgJ8K2JzogXCJQXCIsXG4gICAgICAgICfCtyc6IFwiLlwiLFxuICAgICAgICAnwrgnOiBcIixcIixcbiAgICAgICAgJ8K5JzogXCJeMVwiLFxuICAgICAgICAnwronOiBcIm9cIixcbiAgICAgICAgJ8K7JzogXCI+PlwiLFxuICAgICAgICAnwrwnOiBcIiAxLzQgXCIsXG4gICAgICAgICfCvSc6IFwiIDEvMiBcIixcbiAgICAgICAgJ8K+JzogXCIgMy80IFwiLFxuICAgICAgICAnwr8nOiBcIj9cIixcbiAgICAgICAgJ8OAJzogXCJgQVwiLFxuICAgICAgICAnw4EnOiBcIidBXCIsXG4gICAgICAgICfDgic6IFwiXkFcIixcbiAgICAgICAgJ8ODJzogXCJ+QVwiLFxuICAgICAgICAnw4QnOiAnXCJBJyxcbiAgICAgICAgJ8OFJzogXCJBXCIsXG4gICAgICAgICfDhic6IFwiQUVcIixcbiAgICAgICAgJ8OHJzogXCJDXCIsXG4gICAgICAgICfDiCc6IFwiYEVcIixcbiAgICAgICAgJ8OJJzogXCInRVwiLFxuICAgICAgICAnw4onOiBcIl5FXCIsXG4gICAgICAgICfDiyc6ICdcIkUnLFxuICAgICAgICAnw4wnOiBcImBJXCIsXG4gICAgICAgICfDjSc6IFwiJ0lcIixcbiAgICAgICAgJ8OOJzogXCJeSVwiLFxuICAgICAgICAnw48nOiAnXCJJJyxcbiAgICAgICAgJ8OQJzogXCJEXCIsXG4gICAgICAgICfDkSc6IFwifk5cIixcbiAgICAgICAgJ8OSJzogXCJgT1wiLFxuICAgICAgICAnw5MnOiBcIidPXCIsXG4gICAgICAgICfDlCc6IFwiXk9cIixcbiAgICAgICAgJ8OVJzogXCJ+T1wiLFxuICAgICAgICAnw5YnOiAnXCJPJyxcbiAgICAgICAgJ8OXJzogXCJ4XCIsXG4gICAgICAgICfDmCc6IFwiT1wiLFxuICAgICAgICAnw5knOiBcImBVXCIsXG4gICAgICAgICfDmic6IFwiJ1VcIixcbiAgICAgICAgJ8ObJzogXCJeVVwiLFxuICAgICAgICAnw5wnOiAnXCJVJyxcbiAgICAgICAgJ8OdJzogXCInWVwiLFxuICAgICAgICAnw54nOiBcIlRoXCIsXG4gICAgICAgICfDnyc6IFwic3NcIixcbiAgICAgICAgJ8OgJzogXCJgYVwiLFxuICAgICAgICAnw6EnOiBcIidhXCIsXG4gICAgICAgICfDoic6IFwiXmFcIixcbiAgICAgICAgJ8OjJzogXCJ+YVwiLFxuICAgICAgICAnw6QnOiAnXCJhJyxcbiAgICAgICAgJ8OlJzogXCJhXCIsXG4gICAgICAgICfDpic6IFwiYWVcIixcbiAgICAgICAgJ8OnJzogXCJjXCIsXG4gICAgICAgICfDqCc6IFwiYGVcIixcbiAgICAgICAgJ8OpJzogXCInZVwiLFxuICAgICAgICAnw6onOiBcIl5lXCIsXG4gICAgICAgICfDqyc6ICdcImUnLFxuICAgICAgICAnw6wnOiBcImBpXCIsXG4gICAgICAgICfDrSc6IFwiJ2lcIixcbiAgICAgICAgJ8OuJzogXCJeaVwiLFxuICAgICAgICAnw68nOiAnXCJpJyxcbiAgICAgICAgJ8OwJzogXCJkXCIsXG4gICAgICAgICfDsSc6IFwifm5cIixcbiAgICAgICAgJ8OyJzogXCJgb1wiLFxuICAgICAgICAnw7MnOiBcIidvXCIsXG4gICAgICAgICfDtCc6IFwiXm9cIixcbiAgICAgICAgJ8O1JzogXCJ+b1wiLFxuICAgICAgICAnw7YnOiAnXCJvJyxcbiAgICAgICAgJ8O3JzogXCI6XCIsXG4gICAgICAgICfDuCc6IFwib1wiLFxuICAgICAgICAnw7knOiBcImB1XCIsXG4gICAgICAgICfDuic6IFwiJ3VcIixcbiAgICAgICAgJ8O7JzogXCJedVwiLFxuICAgICAgICAnw7wnOiAnXCJ1JyxcbiAgICAgICAgJ8O9JzogXCIneVwiLFxuICAgICAgICAnw74nOiBcInRoXCIsXG4gICAgICAgICfDvyc6ICdcInknLFxuICAgICAgICAnxIAnOiBcIkFcIixcbiAgICAgICAgJ8SBJzogXCJhXCIsXG4gICAgICAgICfEgic6IFwiQVwiLFxuICAgICAgICAnxIMnOiBcImFcIixcbiAgICAgICAgJ8SEJzogXCJBXCIsXG4gICAgICAgICfEhSc6IFwiYVwiLFxuICAgICAgICAnxIYnOiBcIidDXCIsXG4gICAgICAgICfEhyc6IFwiJ2NcIixcbiAgICAgICAgJ8SIJzogXCJeQ1wiLFxuICAgICAgICAnxIknOiBcIl5jXCIsXG4gICAgICAgICfEiic6IFwiQ1wiLFxuICAgICAgICAnxIsnOiBcImNcIixcbiAgICAgICAgJ8SMJzogXCJDXCIsXG4gICAgICAgICfEjSc6IFwiY1wiLFxuICAgICAgICAnxI4nOiBcIkRcIixcbiAgICAgICAgJ8SPJzogXCJkXCIsXG4gICAgICAgICfEkCc6IFwiRFwiLFxuICAgICAgICAnxJEnOiBcImRcIixcbiAgICAgICAgJ8SSJzogXCJFXCIsXG4gICAgICAgICfEkyc6IFwiZVwiLFxuICAgICAgICAnxJQnOiBcIkVcIixcbiAgICAgICAgJ8SVJzogXCJlXCIsXG4gICAgICAgICfElic6IFwiRVwiLFxuICAgICAgICAnxJcnOiBcImVcIixcbiAgICAgICAgJ8SYJzogXCJFXCIsXG4gICAgICAgICfEmSc6IFwiZVwiLFxuICAgICAgICAnxJonOiBcIkVcIixcbiAgICAgICAgJ8SbJzogXCJlXCIsXG4gICAgICAgICfEnCc6IFwiXkdcIixcbiAgICAgICAgJ8SdJzogXCJeZ1wiLFxuICAgICAgICAnxJ4nOiBcIkdcIixcbiAgICAgICAgJ8SfJzogXCJnXCIsXG4gICAgICAgICfEoCc6IFwiR1wiLFxuICAgICAgICAnxKEnOiBcImdcIixcbiAgICAgICAgJ8SiJzogXCJHXCIsXG4gICAgICAgICfEoyc6IFwiZ1wiLFxuICAgICAgICAnxKQnOiBcIl5IXCIsXG4gICAgICAgICfEpSc6IFwiXmhcIixcbiAgICAgICAgJ8SmJzogXCJIXCIsXG4gICAgICAgICfEpyc6IFwiaFwiLFxuICAgICAgICAnxKgnOiBcIn5JXCIsXG4gICAgICAgICfEqSc6IFwifmlcIixcbiAgICAgICAgJ8SqJzogXCJJXCIsXG4gICAgICAgICfEqyc6IFwiaVwiLFxuICAgICAgICAnxKwnOiBcIklcIixcbiAgICAgICAgJ8StJzogXCJpXCIsXG4gICAgICAgICfEric6IFwiSVwiLFxuICAgICAgICAnxK8nOiBcImlcIixcbiAgICAgICAgJ8SwJzogXCJJXCIsXG4gICAgICAgICfEsSc6IFwiaVwiLFxuICAgICAgICAnxLInOiBcIklKXCIsXG4gICAgICAgICfEsyc6IFwiaWpcIixcbiAgICAgICAgJ8S0JzogXCJeSlwiLFxuICAgICAgICAnxLUnOiBcIl5qXCIsXG4gICAgICAgICfEtic6IFwiS1wiLFxuICAgICAgICAnxLcnOiBcImtcIixcbiAgICAgICAgJ8S5JzogXCJMXCIsXG4gICAgICAgICfEuic6IFwibFwiLFxuICAgICAgICAnxLsnOiBcIkxcIixcbiAgICAgICAgJ8S8JzogXCJsXCIsXG4gICAgICAgICfEvSc6IFwiTFwiLFxuICAgICAgICAnxL4nOiBcImxcIixcbiAgICAgICAgJ8S/JzogXCJMXCIsXG4gICAgICAgICfFgCc6IFwibFwiLFxuICAgICAgICAnxYEnOiBcIkxcIixcbiAgICAgICAgJ8WCJzogXCJsXCIsXG4gICAgICAgICfFgyc6IFwiJ05cIixcbiAgICAgICAgJ8WEJzogXCInblwiLFxuICAgICAgICAnxYUnOiBcIk5cIixcbiAgICAgICAgJ8WGJzogXCJuXCIsXG4gICAgICAgICfFhyc6IFwiTlwiLFxuICAgICAgICAnxYgnOiBcIm5cIixcbiAgICAgICAgJ8WJJzogXCInblwiLFxuICAgICAgICAnxYwnOiBcIk9cIixcbiAgICAgICAgJ8WNJzogXCJvXCIsXG4gICAgICAgICfFjic6IFwiT1wiLFxuICAgICAgICAnxY8nOiBcIm9cIixcbiAgICAgICAgJ8WQJzogJ1wiTycsXG4gICAgICAgICfFkSc6ICdcIm8nLFxuICAgICAgICAnxZInOiBcIk9FXCIsXG4gICAgICAgICfFkyc6IFwib2VcIixcbiAgICAgICAgJ8WUJzogXCInUlwiLFxuICAgICAgICAnxZUnOiBcIidyXCIsXG4gICAgICAgICfFlic6IFwiUlwiLFxuICAgICAgICAnxZcnOiBcInJcIixcbiAgICAgICAgJ8WYJzogXCJSXCIsXG4gICAgICAgICfFmSc6IFwiclwiLFxuICAgICAgICAnxZonOiBcIidTXCIsXG4gICAgICAgICfFmyc6IFwiJ3NcIixcbiAgICAgICAgJ8WcJzogXCJeU1wiLFxuICAgICAgICAnxZ0nOiBcIl5zXCIsXG4gICAgICAgICfFnic6IFwiU1wiLFxuICAgICAgICAnxZ8nOiBcInNcIixcbiAgICAgICAgJ8WgJzogXCJTXCIsXG4gICAgICAgICfFoSc6IFwic1wiLFxuICAgICAgICAnxaInOiBcIlRcIixcbiAgICAgICAgJ8WjJzogXCJ0XCIsXG4gICAgICAgICfFpCc6IFwiVFwiLFxuICAgICAgICAnxaUnOiBcInRcIixcbiAgICAgICAgJ8WmJzogXCJUXCIsXG4gICAgICAgICfFpyc6IFwidFwiLFxuICAgICAgICAnxagnOiBcIn5VXCIsXG4gICAgICAgICfFqSc6IFwifnVcIixcbiAgICAgICAgJ8WqJzogXCJVXCIsXG4gICAgICAgICfFqyc6IFwidVwiLFxuICAgICAgICAnxawnOiBcIlVcIixcbiAgICAgICAgJ8WtJzogXCJ1XCIsXG4gICAgICAgICfFric6IFwiVVwiLFxuICAgICAgICAnxa8nOiBcInVcIixcbiAgICAgICAgJ8WwJzogJ1wiVScsXG4gICAgICAgICfFsSc6ICdcInUnLFxuICAgICAgICAnxbInOiBcIlVcIixcbiAgICAgICAgJ8WzJzogXCJ1XCIsXG4gICAgICAgICfFtCc6IFwiXldcIixcbiAgICAgICAgJ8W1JzogXCJed1wiLFxuICAgICAgICAnxbYnOiBcIl5ZXCIsXG4gICAgICAgICfFtyc6IFwiXnlcIixcbiAgICAgICAgJ8W4JzogJ1wiWScsXG4gICAgICAgICfFuSc6IFwiJ1pcIixcbiAgICAgICAgJ8W6JzogXCInelwiLFxuICAgICAgICAnxbsnOiBcIlpcIixcbiAgICAgICAgJ8W8JzogXCJ6XCIsXG4gICAgICAgICfFvSc6IFwiWlwiLFxuICAgICAgICAnxb4nOiBcInpcIixcbiAgICAgICAgJ8W/JzogXCJzXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3NsdWdpZnkocykge1xuICAgICAgICBpZiAoIXMpIHJldHVybiBcIlwiO1xuICAgICAgICB2YXIgYXNjaWkgPSBbXTtcbiAgICAgICAgdmFyIGNoLCBjcDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKGNwID0gcy5jaGFyQ29kZUF0KGkpKSA8IDB4MTgwKSB7XG4gICAgICAgICAgICAgICAgY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNwKTtcbiAgICAgICAgICAgICAgICBhc2NpaS5wdXNoKGNoYXJtYXBbY2hdIHx8IGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzID0gYXNjaWkuam9pbihcIlwiKTtcbiAgICAgICAgcyA9IHMucmVwbGFjZSgvW15cXHdcXHMtXS9nLCBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXHNdKy9nLCBcIi1cIik7XG4gICAgfVxuXG4gICAgbW9kLmZhY3RvcnkoXCJTbHVnXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2x1Z2lmeTogX3NsdWdpZnlcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIG1vZC5kaXJlY3RpdmUoXCJzbHVnXCIsIFtcIlNsdWdcIiwgZnVuY3Rpb24oU2x1Zykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICB0bzogXCI9XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF0dHJzLmZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJtdXN0IHNldCBhdHRyaWJ1dGUgJ2Zyb20nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHJzLmZyb20sIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS50byA9IFNsdWcuc2x1Z2lmeSh2YWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKTtcblxuICAgIG1vZC5maWx0ZXIoXCJzbHVnaWZ5XCIsIFtcIlNsdWdcIiwgZnVuY3Rpb24oU2x1Zykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBTbHVnLnNsdWdpZnkoaW5wdXQpO1xuICAgICAgICB9O1xuICAgIH1dKTtcbn0pKCk7XG4iLCIhZnVuY3Rpb24obil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChuLHQpe3ZhciByPSg2NTUzNSZuKSsoNjU1MzUmdCksZT0obj4+MTYpKyh0Pj4xNikrKHI+PjE2KTtyZXR1cm4gZTw8MTZ8NjU1MzUmcn1mdW5jdGlvbiByKG4sdCl7cmV0dXJuIG48PHR8bj4+PjMyLXR9ZnVuY3Rpb24gZShuLGUsbyx1LGMsZil7cmV0dXJuIHQocih0KHQoZSxuKSx0KHUsZikpLGMpLG8pfWZ1bmN0aW9uIG8obix0LHIsbyx1LGMsZil7cmV0dXJuIGUodCZyfH50Jm8sbix0LHUsYyxmKX1mdW5jdGlvbiB1KG4sdCxyLG8sdSxjLGYpe3JldHVybiBlKHQmb3xyJn5vLG4sdCx1LGMsZil9ZnVuY3Rpb24gYyhuLHQscixvLHUsYyxmKXtyZXR1cm4gZSh0XnJebyxuLHQsdSxjLGYpfWZ1bmN0aW9uIGYobix0LHIsbyx1LGMsZil7cmV0dXJuIGUocl4odHx+byksbix0LHUsYyxmKX1mdW5jdGlvbiBpKG4scil7bltyPj41XXw9MTI4PDxyJTMyLG5bKHIrNjQ+Pj45PDw0KSsxNF09cjt2YXIgZSxpLGEsaCxkLGw9MTczMjU4NDE5MyxnPS0yNzE3MzM4Nzksdj0tMTczMjU4NDE5NCxtPTI3MTczMzg3ODtmb3IoZT0wO2U8bi5sZW5ndGg7ZSs9MTYpaT1sLGE9ZyxoPXYsZD1tLGw9byhsLGcsdixtLG5bZV0sNywtNjgwODc2OTM2KSxtPW8obSxsLGcsdixuW2UrMV0sMTIsLTM4OTU2NDU4Niksdj1vKHYsbSxsLGcsbltlKzJdLDE3LDYwNjEwNTgxOSksZz1vKGcsdixtLGwsbltlKzNdLDIyLC0xMDQ0NTI1MzMwKSxsPW8obCxnLHYsbSxuW2UrNF0sNywtMTc2NDE4ODk3KSxtPW8obSxsLGcsdixuW2UrNV0sMTIsMTIwMDA4MDQyNiksdj1vKHYsbSxsLGcsbltlKzZdLDE3LC0xNDczMjMxMzQxKSxnPW8oZyx2LG0sbCxuW2UrN10sMjIsLTQ1NzA1OTgzKSxsPW8obCxnLHYsbSxuW2UrOF0sNywxNzcwMDM1NDE2KSxtPW8obSxsLGcsdixuW2UrOV0sMTIsLTE5NTg0MTQ0MTcpLHY9byh2LG0sbCxnLG5bZSsxMF0sMTcsLTQyMDYzKSxnPW8oZyx2LG0sbCxuW2UrMTFdLDIyLC0xOTkwNDA0MTYyKSxsPW8obCxnLHYsbSxuW2UrMTJdLDcsMTgwNDYwMzY4MiksbT1vKG0sbCxnLHYsbltlKzEzXSwxMiwtNDAzNDExMDEpLHY9byh2LG0sbCxnLG5bZSsxNF0sMTcsLTE1MDIwMDIyOTApLGc9byhnLHYsbSxsLG5bZSsxNV0sMjIsMTIzNjUzNTMyOSksbD11KGwsZyx2LG0sbltlKzFdLDUsLTE2NTc5NjUxMCksbT11KG0sbCxnLHYsbltlKzZdLDksLTEwNjk1MDE2MzIpLHY9dSh2LG0sbCxnLG5bZSsxMV0sMTQsNjQzNzE3NzEzKSxnPXUoZyx2LG0sbCxuW2VdLDIwLC0zNzM4OTczMDIpLGw9dShsLGcsdixtLG5bZSs1XSw1LC03MDE1NTg2OTEpLG09dShtLGwsZyx2LG5bZSsxMF0sOSwzODAxNjA4Myksdj11KHYsbSxsLGcsbltlKzE1XSwxNCwtNjYwNDc4MzM1KSxnPXUoZyx2LG0sbCxuW2UrNF0sMjAsLTQwNTUzNzg0OCksbD11KGwsZyx2LG0sbltlKzldLDUsNTY4NDQ2NDM4KSxtPXUobSxsLGcsdixuW2UrMTRdLDksLTEwMTk4MDM2OTApLHY9dSh2LG0sbCxnLG5bZSszXSwxNCwtMTg3MzYzOTYxKSxnPXUoZyx2LG0sbCxuW2UrOF0sMjAsMTE2MzUzMTUwMSksbD11KGwsZyx2LG0sbltlKzEzXSw1LC0xNDQ0NjgxNDY3KSxtPXUobSxsLGcsdixuW2UrMl0sOSwtNTE0MDM3ODQpLHY9dSh2LG0sbCxnLG5bZSs3XSwxNCwxNzM1MzI4NDczKSxnPXUoZyx2LG0sbCxuW2UrMTJdLDIwLC0xOTI2NjA3NzM0KSxsPWMobCxnLHYsbSxuW2UrNV0sNCwtMzc4NTU4KSxtPWMobSxsLGcsdixuW2UrOF0sMTEsLTIwMjI1NzQ0NjMpLHY9Yyh2LG0sbCxnLG5bZSsxMV0sMTYsMTgzOTAzMDU2MiksZz1jKGcsdixtLGwsbltlKzE0XSwyMywtMzUzMDk1NTYpLGw9YyhsLGcsdixtLG5bZSsxXSw0LC0xNTMwOTkyMDYwKSxtPWMobSxsLGcsdixuW2UrNF0sMTEsMTI3Mjg5MzM1Myksdj1jKHYsbSxsLGcsbltlKzddLDE2LC0xNTU0OTc2MzIpLGc9YyhnLHYsbSxsLG5bZSsxMF0sMjMsLTEwOTQ3MzA2NDApLGw9YyhsLGcsdixtLG5bZSsxM10sNCw2ODEyNzkxNzQpLG09YyhtLGwsZyx2LG5bZV0sMTEsLTM1ODUzNzIyMiksdj1jKHYsbSxsLGcsbltlKzNdLDE2LC03MjI1MjE5NzkpLGc9YyhnLHYsbSxsLG5bZSs2XSwyMyw3NjAyOTE4OSksbD1jKGwsZyx2LG0sbltlKzldLDQsLTY0MDM2NDQ4NyksbT1jKG0sbCxnLHYsbltlKzEyXSwxMSwtNDIxODE1ODM1KSx2PWModixtLGwsZyxuW2UrMTVdLDE2LDUzMDc0MjUyMCksZz1jKGcsdixtLGwsbltlKzJdLDIzLC05OTUzMzg2NTEpLGw9ZihsLGcsdixtLG5bZV0sNiwtMTk4NjMwODQ0KSxtPWYobSxsLGcsdixuW2UrN10sMTAsMTEyNjg5MTQxNSksdj1mKHYsbSxsLGcsbltlKzE0XSwxNSwtMTQxNjM1NDkwNSksZz1mKGcsdixtLGwsbltlKzVdLDIxLC01NzQzNDA1NSksbD1mKGwsZyx2LG0sbltlKzEyXSw2LDE3MDA0ODU1NzEpLG09ZihtLGwsZyx2LG5bZSszXSwxMCwtMTg5NDk4NjYwNiksdj1mKHYsbSxsLGcsbltlKzEwXSwxNSwtMTA1MTUyMyksZz1mKGcsdixtLGwsbltlKzFdLDIxLC0yMDU0OTIyNzk5KSxsPWYobCxnLHYsbSxuW2UrOF0sNiwxODczMzEzMzU5KSxtPWYobSxsLGcsdixuW2UrMTVdLDEwLC0zMDYxMTc0NCksdj1mKHYsbSxsLGcsbltlKzZdLDE1LC0xNTYwMTk4MzgwKSxnPWYoZyx2LG0sbCxuW2UrMTNdLDIxLDEzMDkxNTE2NDkpLGw9ZihsLGcsdixtLG5bZSs0XSw2LC0xNDU1MjMwNzApLG09ZihtLGwsZyx2LG5bZSsxMV0sMTAsLTExMjAyMTAzNzkpLHY9Zih2LG0sbCxnLG5bZSsyXSwxNSw3MTg3ODcyNTkpLGc9ZihnLHYsbSxsLG5bZSs5XSwyMSwtMzQzNDg1NTUxKSxsPXQobCxpKSxnPXQoZyxhKSx2PXQodixoKSxtPXQobSxkKTtyZXR1cm5bbCxnLHYsbV19ZnVuY3Rpb24gYShuKXt2YXIgdCxyPVwiXCIsZT0zMipuLmxlbmd0aDtmb3IodD0wO3Q8ZTt0Kz04KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoblt0Pj41XT4+PnQlMzImMjU1KTtyZXR1cm4gcn1mdW5jdGlvbiBoKG4pe3ZhciB0LHI9W107Zm9yKHJbKG4ubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8ci5sZW5ndGg7dCs9MSlyW3RdPTA7dmFyIGU9OCpuLmxlbmd0aDtmb3IodD0wO3Q8ZTt0Kz04KXJbdD4+NV18PSgyNTUmbi5jaGFyQ29kZUF0KHQvOCkpPDx0JTMyO3JldHVybiByfWZ1bmN0aW9uIGQobil7cmV0dXJuIGEoaShoKG4pLDgqbi5sZW5ndGgpKX1mdW5jdGlvbiBsKG4sdCl7dmFyIHIsZSxvPWgobiksdT1bXSxjPVtdO2Zvcih1WzE1XT1jWzE1XT12b2lkIDAsby5sZW5ndGg+MTYmJihvPWkobyw4Km4ubGVuZ3RoKSkscj0wO3I8MTY7cis9MSl1W3JdPTkwOTUyMjQ4Nl5vW3JdLGNbcl09MTU0OTU1NjgyOF5vW3JdO3JldHVybiBlPWkodS5jb25jYXQoaCh0KSksNTEyKzgqdC5sZW5ndGgpLGEoaShjLmNvbmNhdChlKSw2NDApKX1mdW5jdGlvbiBnKG4pe3ZhciB0LHIsZT1cIjAxMjM0NTY3ODlhYmNkZWZcIixvPVwiXCI7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrPTEpdD1uLmNoYXJDb2RlQXQociksbys9ZS5jaGFyQXQodD4+PjQmMTUpK2UuY2hhckF0KDE1JnQpO3JldHVybiBvfWZ1bmN0aW9uIHYobil7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChuKSl9ZnVuY3Rpb24gbShuKXtyZXR1cm4gZCh2KG4pKX1mdW5jdGlvbiBwKG4pe3JldHVybiBnKG0obikpfWZ1bmN0aW9uIHMobix0KXtyZXR1cm4gbCh2KG4pLHYodCkpfWZ1bmN0aW9uIEMobix0KXtyZXR1cm4gZyhzKG4sdCkpfWZ1bmN0aW9uIEEobix0LHIpe3JldHVybiB0P3I/cyh0LG4pOkModCxuKTpyP20obik6cChuKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1BOm4ubWQ1PUF9KHRoaXMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWQ1Lm1pbi5qcy5tYXAiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
